;SuperMario constants

[Data]
  ;Amount of life to start with
life = 2000
  ;attack power (more is stronger)
attack = 200
  ;defensive power (more is stronger)
defence = 1200
  ;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
  ;Time which player lies down for, before getting up
liedown.time = 40
  ;Number of points for juggling
airjuggle = 15
  ;Default hit spark number for HitDefs
sparkno = 2
  ;Default guard spark number
guard.sparkno = 40
  ;1 to enable echo on KO
KO.echo = 0
  ;Volume offset (negative for softer)
volume = 0
  ;Variables with this index and above will not have their values
  ;reset to 0 between rounds or matches. There are 60 int variables,
  ;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  ;If omitted, then it defaults to 60 and 40 for integer and float
  ;variables repectively, meaning that none are persistent, i.e. all
  ;are reset. If you want your variables to persist between matches,
  ;you need to override state 5900 from common1.cns.
IntPersistIndex = 7
FloatPersistIndex = 40

[Size]
xscale = 1            ;Horizontal scaling factor.
yscale = 1            ;Vertical scaling factor.
ground.back = 15      ;Player width (back, ground)
ground.front = 13     ;Player width (front, ground)
air.back = 12         ;Player width (back, air)
air.front = 12        ;Player width (front, air)
height = 50	      ;Height of player (for opponent to jump over)
attack.dist = 160     ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0      ;Set to 1 to scale projectiles too   
head.pos = -5, -60    ;Approximate position of head
mid.pos = 0, -27      ;Approximate position of midsection
shadowoffset = 0      ;Number of pixels to vertically offset the shadow
draw.offset = 0,0     ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 4.4           ;Walk forward
walk.back = -4.4          ;Walk backward
run.fwd  = 6.5, 0         ;Run forward (x, y)
run.back = -6.5,0         ;Hop backward (x, y)
jump.neu = 0,-9.4         ;Neutral jumping velocity (x, y)
jump.back = -2.55         ;Jump back Speed (x, y)
jump.fwd = 2.5            ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 6.5,0      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 999       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Soul Leaver
[Statedef 4010]
type = S
ctrl = 0
anim = 4010
velset = 0,0,0

[State 4010, The Other]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1, 28
volume = 255

[State 4010, Bling Bling]
type = PlaySnd
trigger1 = Time = 160
trigger2 = Time = 170
trigger3 = Time = 180
trigger4 = Time = 190
trigger5 = Time = 200
value = S1, 11
volume = 255

[State 4010, Flash]
type = ALLPalFX
trigger1 = Time = 160
trigger2 = Time = 170
trigger3 = Time = 180
trigger4 = Time = 190
trigger5 = Time = 200
time = 7
add = 999,999,999
mul = 999,999,999

[State 4010, Dead]
type = PalFX
trigger1 = Time = 0
time = 207
add = -50,-50,-50

[State 4010, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 2
trigger1 = 0
trigger2 = AnimElem = 2
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 4010, Mario Corpse] 
type = Explod
trigger1 = Time = 0
anim = 4011
pos = 0,0
removetime = 210
id = 4011
shadow = -1,0,0
sprpriority = -3

[State 4010, Mario Corpse] 
type = Explod
trigger1 = Time = 210
anim = 4011
pos = 0,0
removetime = -1
id = 4011
shadow = -1,0,0
ownpal = 1
sprpriority = -3

[State 4010, Intro] 
type = AssertSpecial
trigger1 = Time = [0, 1000]
flag = intro
flag2 = NoMusic

[State 4010, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Mario Ghost and Luigi
[Statedef 3800]
type = S
ctrl = 0
anim = 3801
velset = 0,0,0

[State 3800]
type = ScreenBound
trigger1 = Time = 150 
value = 1
movecamera = 1, 0

[State 3800, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 3800, Here we go]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 4
volume = 255

[State 3800, Luigi Pipe]
type = PlaySnd
trigger1 = Time = 150
value = S1, 4
volume = 255

[State 3800, Luigi Vacuum]
type = PlaySnd
trigger1 = Time = 208
value = S1, 23
volume = 255

[State 3800, Mario Cry]
type = PlaySnd
trigger1 = AnimElem = 14
value = S11, 0
volume = 255

[State 3800, Luigi] 
type = Explod
trigger1 = Time = 150
anim = 3800
vel = 0,0
pos = -80,0
postype = P1
removetime = 9999
supermovetime = 9999

[State 3800, Round not Over] 
type = AssertSpecial
trigger1 = time =  [0, 650]
flag = roundnotover

[State 3800, Cant touch blah blah]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Tanooki Intro
[Statedef 3700]
type = S
ctrl = 0
anim = 3700
velset = 0,0,0

[State 3700, Flash]
type = ALLPalFX
trigger1 = AnimElem = 18
time = 8
add = 999,999,999
mul = 999,999,999

[State 3700, Shaking]
type = EnvShake
trigger1 = AnimElem = 18
freq = 70
ampl = -8
time = 120

[State 3700, Tail]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
trigger2 = AnimElemTime(1) = 20
trigger3 = AnimElemTime(1) = 40
trigger4 = AnimElemTime(1) = 60
trigger5 = AnimElemTime(1) = 80
trigger6 = AnimElemTime(1) = 100
value = S1, 26
volume = 255

[State 3700, Statue Change]
type = PlaySnd
trigger1 = AnimElem = 4
value = S1, 27
volume = 255

[State 3700, Cracks]
type = PlaySnd
trigger1 = AnimElem = 14
value = S1, 24
volume = 255

[State 3700, Explode]
type = PlaySnd
trigger1 = AnimElem = 18
value = S1, 25
volume = 255

[State 3700, 1] 
type = Explod
trigger1 = Time = 1
anim = 3701
vel = 0,1.5
pos = 0,-120
postype = P1
removetime = 120
supermovetime = 120

[State 3700, 2] 
type = AssertSpecial
trigger1 = time =  [0, 1000]
flag = intro

[State 3700, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; Neo Mario Intro
[Statedef 205]
type = S
ctrl = 0
anim = 205
velset = 0,0,0

[State 205, 0]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = Roundstate != 2
value = S1, 18
volume = 255

[State 205, Neo Mario]
type = AfterImage
trigger1 = Time = 1
time = 310
TimeGap  = 2
FrameGap = 3
length = 20
PalContrast = 0,800,0
Trans = add

[State 205, Matrix] 
type = Explod
trigger1 = Time = 1
anim = 206
vel = 0,0
pos = 0,0
postype = P1
removetime = 230
supermovetime = 230
bindtime = -1
supermove = 1

[State 205, 2] 
type = AssertSpecial
trigger1 = time =  [0, 310]
flag = intro

[State 205, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
;Mario Drop Intro
[Statedef 207]
type = S
ctrl = 0
anim = 208
velset = 0,0,0

[State 207, MakeDust]
type = MakeDust
trigger1 = AnimElem = 3 
spacing = 1
pos = -3, 0

[State 207, Stone]
type = PlaySnd
trigger1 = Time = 20
trigger1 = Roundstate != 2
value = S1, 9
volume = 150

[State 207, Matrix Noise]
type = PlaySnd
trigger1 = Time = 20
trigger1 = 0
trigger1 = Roundstate != 2
trigger2 = Time = 20
trigger2 = 0
trigger2 = Roundstate != 2
value = S1, 19
volume = 255

[State 207, Shaking]
type = EnvShake
trigger1 = Time = 20
trigger1 = Roundstate != 2
freq = 70
ampl = -8
time = 120

[State 207, Neo Mario]
type = AfterImage
triggerall = 1
triggerall = 1
trigger1 = Time = 1
trigger1 = 0
trigger2 = Time = 1
trigger2 = 0
time = 310
TimeGap  = 2
FrameGap = 3
length = 20
PalContrast = 0,800,0
Trans = add

[State 207, Neo Mario]
type = PalFX
triggerall = 1
triggerall = 1
trigger1 = Time = 20
trigger1 = 0
trigger1 = Roundstate != 2
trigger2 = Time = 20
trigger2 = 0
trigger2 = Roundstate != 2
time = 120
add = 0,floor(random/20),0

[State 207, Neo Mario]
type = BGPalFX
triggerall = 1
triggerall = 1
trigger1 = Time = 20
trigger1 = 0
trigger1 = Roundstate != 2
trigger2 = Time = 20
trigger2 = 0
trigger2 = Roundstate != 2
time = 120
add = 0,floor(random/20),0

[State 207, Drop In] 
type = Explod
trigger1 = Time = 1
anim = 209
vel = 0,20
pos = 0,10
postype = P1
removetime = 15
supermovetime = 15
bindtime = -1
supermove = 1

[State 207, 2] 
type = AssertSpecial
trigger1 = time =  [0, 215]
flag = intro

[State 207, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; Special Intro
[Statedef 201]
type = S
ctrl = 0
anim = 201
velset = 0,0,0

[State 201, Nothing] 
type = Explod
trigger1 = Time = 1
trigger1 = PalNo = 4
anim = 4020
vel = 0,0
scale = 1.5,1.5
pos = 73,110
ownpal = 1
postype = left
removetime = 270
supermovetime = 270
Trans = add

[State 201, 0]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 27
value = S1, 11
volume = 255

[State 201, 1]
type = PlaySnd
trigger1 = AnimElem = 27
value = S1, 12
volume = 255

[State 201, 2]
type = PlaySnd
trigger1 = AnimElem = 53
value = S1, 8
volume = 100

[State 201, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 201, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = AnimElem = 1
trigger1 = 1
time = 99999
FrameGap = 1
length = 8
PalBright   =  30, 0, 0
PalContrast =  280, 0, 0
PalMul      = .85,.85,.50
Trans = add

[State 201, Blink Red]
type = PalFX
trigger1 = AnimElem = 1
time = 99999
add = 0,-50,-50

[State 201, Shake]
type = EnvShake
trigger1 = AnimElem = 1
time = 120
freq = 90

[State 201, 3] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = time =  [0, 270]
flag = intro
;flag2 = noBG
flag2 = nobardisplay

[State 201, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 196, PalFx]
type = PalFX
time = 3
mul = 800, 800, 800
trigger1 = AnimElem = 7
trigger2 = AnimElem = 9
trigger3 = AnimElem = 11

[State 196, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 196, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger2 = AnimElem = 1
trigger2 = 1
time = 80
TimeGap  = 1
FrameGap = 2
length = 15
PalContrast = 200,100,0
Trans = add

[State 196, 0]
type = PlaySnd
trigger1 = Time = 1
value = S1, 15

[State 196, 1]
type = PlaySnd
trigger1 = Time = 40
value = S1, 16

[State 196, 2]
type = PowerAdd
trigger1 = AnimElem = 11
value = 300

[State 196, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Win pose 
[Statedef 4020]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 4020, Nothing] 
type = Explod
trigger1 = Time = 1
anim = 4020
vel = 0,0
scale = 1.5,1.5
pos = 73,110
ownpal = 1
postype = left
removetime = 400
supermovetime = 400
Trans = add

[State 4020, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
time = 400
TimeGap = 1
FrameGap = 2
length = 30
PalBright   =  30, 30,  0
PalContrast =  280, 40, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 4020, Blink Red]
type = PalFX
trigger1 = AnimElem = 1
time = 400
add = 64,0,0
sinadd = 64,0,5,3

[State 4020, Power]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1, 28
.volume = 255

[State 4020, Shake]
type = EnvShake
trigger1 = AnimElem = 2
trigger1 = 0
trigger2 = AnimElem = 2
trigger2 = 0
time = 30

[State 4020, 0]
type = PlaySnd
trigger1 = Time = 1
value = S1, 2

[State 4020, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 4020, 2]
type = AssertSpecial
trigger1 = time = [0, 400]
flag = roundnotover
flag2 = nobardisplay

;---------------------------------------------------------------------------
; Neo Mario Win Pose
[Statedef 206]
type = S
ctrl = 0
anim = 207
velset = 0,0,0

[State 206, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 18

[State 206, Matrix] 
type = Explod
trigger1 = Time = 80
anim = 206
vel = 0,0
pos = 0,0
postype = P1
removetime = 230
supermovetime = 230
bindtime = -1
supermove = 1

[State 206, 2] 
type = AssertSpecial
trigger1 = time =  [0, 240]
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 1 - Evil Look
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 181, Stone]
type = PlaySnd
trigger1 = AnimElem = 2
trigger1 = 0
trigger2 = AnimElem = 2
trigger2 = 0
value = S1, 9
volume = 185

[State 181, Shake]
type = EnvShake
trigger1 = AnimElem = 2
trigger1 = 0
trigger2 = AnimElem = 2
trigger2 = 0
time = 30

[State 181, 0]
type = PlaySnd
trigger1 = Time = 1
value = S1, 2

[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2 - Peace Out
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 182, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 4
volume = 255

[State 182, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 3 - Punch Out
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 17

[State 183, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 21

[State 183, 2]
type = PlaySnd
trigger1 = AnimElem = 19
value = S0, 19

;[State 183, 3]
;type = PlaySnd
;trigger1 = AnimElem = 19
;value = S0, 8

[State 183, 4]
type = EnvShake
trigger1 = AnimElem = 1
time = 120
freq = 30

[State 183, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 183, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 120
TimeGap = 1
FrameGap = 2
length = 30
PalBright   =  30, 30,  0
PalContrast =  280, 40, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 183, Blink Red]
type = PalFX
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 120
add = 64,0,0
sinadd = 64,0,5,3

[State 183, 5]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
[StateDef 104]
type = S
movetype = I
physics = N
ctrl = 0
anim = 105

[State 104, Hide]
type = AssertSpecial
trigger1 = 1
flag = Invisible
flag2 = NoShadow

[State 104, Don'tHurtMe]
type = HitBy
trigger1 = 1
time = -1
value =

[State 104, Follow]
type = PosSet
trigger1 = IsHelper
x = Root,Pos X
y = Root,Pos Y

[State 104, Flip]
type = Turn
trigger1 = IsHelper
trigger1 = Facing != Root,Facing

[State 104, Done]
type = ChangeAnim
trigger1 = IsHelper
trigger1 = Root,time = 16
value = 104; Anim that references a blank but existent sprite

[State 104, Shadow]
type = AfterImage
trigger1 = IsHelper
trigger1 = Root,StateNo = 105
trigger1 = Root,Anim = 105
trigger1 = Root,AnimElem = 3
time = 60;-1;10
TimeGap = 2
FrameGap = 1
length = 15;12;30
PalBright = 0,0,0
PalContrast = 0,0,300
Trans = add
persistent = 0

[State 104, Poof]
type = DestroySelf
trigger1 = IsHelper
trigger1 = Root,Anim != 105
trigger1 = time > 60

;---------------------------------------------------------------------------
; Roll Backwards
[Statedef 105]
type    = S
physics = S
ctrl = 0
anim = 105

[State 105, AIH]
type = Helper
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
helpertype = normal
name = "AfterImage Helper"
ID = 104
StateNo = 104
pos = 0,0
postype = p1
facing = 1
pausemovetime = 2147483647
supermovetime = 2147483647
persistent = 0

[State 105, 0]
type = PlaySnd
trigger1 = Time = 1
value = S0, 0
volume = 255

[State 105, Stone]
type = VelSet
triggerall = 1
trigger1 = AnimTime < -16
x = -5.5
y = 0

[State 105, Stone]
type = VelSet
triggerall = 1
trigger1 = AnimTime < -16
x = -5.5
y = 0

[State 105, 1]
type = VelSet
triggerall = 1
triggerall = 1
trigger1 = AnimTime < -16
x = -7.5
y = 0

[State 105, 2]
type = CtrlSet
trigger1 = AnimTime = 0
value = 1

[State 105, Facing]
type = Turn
triggerall = P2BodyDist X < 0
trigger1 = AnimElem = 4  

[State 105, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[State 105, MakeDust]
type = MakeDust
trigger1 = 1
pos = -3, 0
spacing = 15

[State 105, Shadow]
type = null;AfterImage
trigger1 = AnimElem = 3
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 10
TimeGap = 2
FrameGap = 1
length = 30
PalBright = 0,0,0
PalContrast = 0,0,300
Trans = add
persistent = 0

;---------------------------------------------------------------------------
; Pipe Intro
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0,0

[State 192, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 192, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 4
volume = 255

[State 192, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = S1, 8
volume = 100

[State 192,2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = time =  [0, 150]
flag = intro

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 150
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; Grow Intro
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0,0

[State 193, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 193, PalFx]
type = PalFX
time = 3
mul = 800, 800, 800
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6

[State 193, 0]
type = PlaySnd
trigger1 = Time = 1
value = S0, 3

[State 193, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = S0, 4

[State 193,2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = time =  [0, 248]
flag = intro

[State 193, 3]
type = ChangeState
trigger1 = AnimTime = 248
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; Chun Li Taunt Reaction
[Statedef 199]
type = S
ctrl = 0
anim = 193
velset = 0,0,0

[State 199, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1, 1
volume = 255

[State 199, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = PrevStateNo
ctrl = 1

;---------------------------------------------------------------------------
; Peach Intro
[Statedef 194]
type = S
ctrl = 0
anim = 193
velset = 0,0,0

[State 194, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 194, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1, 1
volume = 255

[State 194, 1] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = time =  [0, 217]
flag = intro

[State 194, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; DK Intro
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0,0

[State 195, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 195, 0]
type = PlaySnd
trigger1 = AnimElem = 11
value = S1, 8
volume = 100

[State 195, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = S1, 10
volume = 255

[State 195, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = time =  [0, 370]
flag = intro

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 370
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; SuperMario Intro
[Statedef 197]
type = S
ctrl = 0
anim = 202
velset = 0,0,0

[State 197, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State 197, Wario Laugh]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 20

[State 197, Wario Hit]
type = PlaySnd
trigger1 = AnimElem = 38
value = S1, 21

[State 197, 0]
type = PlaySnd
trigger1 = AnimElem = 33
value = S0, 10
volume = 255

[State 197, 1]
type = PlaySnd
trigger1 = AnimElem = 33
value = S0, 17
volume = 255

[State 197, 2]
type = PlaySnd
trigger1 = AnimElem = 38
value = S5, 1
volume = 255

[State 197, 3]
type = PlaySnd
trigger1 = AnimElem = 47
value = S0, 19
volume = 255

;help with below explode from Chairman Kaga
[State 197, Wario] 
type = Explod
trigger1 = (AnimElem = 1) && (Facing = 1)
;trigger1 = AnimElem = 1
anim = 198
vel = 0,0
;pos = 161, 240-(Pos Y + 1)
;postype = left
pos = 71, 1
;pos = ( ifelse(facing = 1, P2dist X + 1, P2dist X) / 2),1
postype = p1
removetime = 175
supermovetime = 175
ownpal = 1
bindtime = -1
supermove = 1
shadow = -1, 0, 0

[State 197, 4] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = time =  [0, 170]
flag = intro

[State 197, 5]
type = ChangeState
trigger1 = Time = 170
value = 0
ctrl = 0

;---------------------------------------------------------------------------

; Stand Light Punch
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = 20
velset = 0,0
ctrl = 0
anim = 200

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 15

[State 200, 2]
type = Null;HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 20
animtype = Light
getpower = 20
givepower = 10
guardflag = MA
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 8,8
sparkxy = -10, -42
hitsound = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-3

[State 200, 2]
type = Projectile
trigger1 = AnimElem = 2
attr = S, NA
damage    = 20
animtype = Light
getpower = 20
givepower = 10
guardflag = MA
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 8,8
sparkxy = 30, -42
hitsound = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-3
projanim = 20011
projremovetime = 6

[State 200, 2]
type = Null;HitDef
trigger1 = AnimElem = 2
trigger1 = 0
trigger2 = AnimElem = 2
trigger2 = 0
attr = S, NA
damage    = 20,7
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = MA
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 7,8
sparkxy = -10, -42
hitsound = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-3

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Medium Punch
[Statedef 210]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 210                       ;Change animation (Def: no change)
poweradd = 40                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 210, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 16

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 9

[State 210, 2]
type = Null;HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40                      ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -10, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
air.velocity = -2,-3         ;X-velocity at which opponent is pushed,

[State 210, 2]
type = Null;HitDef
trigger1 = AnimElem = 3
trigger1 = 0
trigger2 = AnimElem = 3
trigger2 = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40,13                      ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7,8                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -10, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
air.velocity = -2,-3         ;X-velocity at which opponent is pushed,

[State 210, 2]
type = Projectile
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40                      ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = 35, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
air.velocity = -2,-3         ;X-velocity at which opponent is pushed,
projanim = 21011
projremovetime = 6

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 20
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 15

[State 400, 2]
type = Null;HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 20
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = L
hitflag = MAFD
sparkno = 0
pausetime = 12,8
sparkxy = -10, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3
down.velocity = -3,-4

[State 400, 2]
type = Null;HitDef
trigger1 = Time = 0
trigger1 = 0
trigger2 = Time = 0
trigger2 = 0
attr = C, NA
damage    = 20,7
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = L
hitflag = MAFD
sparkno = 0
pausetime = 12,8
sparkxy = -10, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3
down.velocity = -3,-4

[State 400, 2]
type = Projectile
trigger1 = AnimElem = 2
attr = C, NA
damage    = 20
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = L
hitflag = MAFD
sparkno = 0
pausetime = 12,8
sparkxy = 35, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3
down.velocity = -3,-4
projanim = 40011
projremovetime = 3

[State 400, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching medium punch
[Statedef 410]
type    = C                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = C                      ;Physics: S-stand, C-crouch, A-air
juggle  = 7                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 410                       ;Change animation (Def: no change)
poweradd = 40                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 410, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 16

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 9

[State 410, 2]
type = Null;HitDef
trigger1 = AnimElem = 3
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 40                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -10, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low                ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.velocity = -2,-3           ;X-velocity at which opponent is pushed,
down.velocity = -3,-4                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air

[State 410, 2]
type = Null;HitDef
trigger1 = AnimElem = 3
trigger1 = 0
trigger2 = AnimElem = 3
trigger2 = 0
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 40,13                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7,8                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -10, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low                ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.velocity = -2,-3           ;X-velocity at which opponent is pushed,
down.velocity = -3,-4                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air
                                 
[State 410, 2]
type = Projectile
trigger1 = AnimElem = 3
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 40                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = 35, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low                ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.velocity = -2,-3           ;X-velocity at which opponent is pushed,
down.velocity = -3,-4                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air
projanim = 41011
projremovetime = 6

[State 410, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Stand Strong Punch
[Statedef 220]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 220                       ;Change animation (Def: no change)
poweradd = 65                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 220, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 17

[State 220, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60                      ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 12,12                ;Time attacker pauses, time opponent shakes
sparkxy = -10, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 1                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 15             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
air.velocity = -4,-3         ;X-velocity at which opponent is pushed,
down.velocity = -3,-4                

[State 220, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
trigger1 = 0
trigger2 = AnimElem = 3
trigger2 = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60,20                      ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7,8                ;Time attacker pauses, time opponent shakes
sparkxy = -10, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 1                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
air.velocity = -4,-3         ;X-velocity at which opponent is pushed,
down.velocity = -3,-4

[State 220, 1]
type = Projectile
trigger1 = AnimElem = 6
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60                      ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 12,12                ;Time attacker pauses, time opponent shakes
sparkxy = 45, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 1                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 15             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
air.velocity = -4,-3         ;X-velocity at which opponent is pushed,
down.velocity = -3,-4
projanim = 22011
projremovetime = 4

[State 220, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 10

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Stone Punch
[Statedef 221]
type    = S                      
movetype= A                      
physics = N                    
juggle  = 7                      
velset = 0,0                     
ctrl = 0                         
anim = 220                       
poweradd = 80;65                    
sprpriority = 2                  

[State 221, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 17

[State 221, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 10

[State 221, 2]
type = Null;HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 70, 23
priority  = 5
guardflag = MA
pausetime = 7,8
sparkxy = -10,-60
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 1025

[State 221, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------
;Stone Puunch - shaking from the hit
; (a custom gethit state)
[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
;Stone Punch - flying through the air
; (a custom gethit state)
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
;Stone Punch - hit wall
; (a custom gethit state)
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------
;Stone Punch - bounce off wall
; (a custom gethit state)
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; Crouching Strong Punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 65
ctrl = 0
anim = 420

[State 420, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 17

[State 420, 1]
type = Null;HitDef
trigger1 = Time = 6
attr = S, NA                     
damage = 60                  
animtype = Heavy              
guardflag = MA                   
hitflag = MAf                    
priority = 6, Hit                                            
pausetime = 12, 12                                      
sparkxy = -10, -22
hitsound = S5,1
guardsound = 6,0                             
ground.type = High               
ground.slidetime = 20            
ground.hittime  = 22             
ground.velocity = -1, -10.5           
airguard.velocity = -1.8,-.8     
air.type = High                  
air.velocity = 0,-9                                  
air.hittime = 22              
fall = 0

[State 420, 1]
type = Null;HitDef
trigger1 = Time = 6
trigger1 = 0
trigger2 = Time = 6
trigger2 = 0
attr = S, NA                     
damage = 60, 20                  
animtype = Heavy              
guardflag = MA                   
hitflag = MAf                    
priority = 6, Hit                                            
pausetime = 12, 12                                      
sparkxy = -10, -22
hitsound = S5,1
guardsound = 6,0                             
ground.type = High               
ground.slidetime = 20            
ground.hittime  = 22             
ground.velocity = -1, -10.5           
airguard.velocity = -1.8,-.8     
air.type = High                  
air.velocity = 0,-9                                  
air.hittime = 22              
fall = 0

[State 420, 1]
type = Projectile
trigger1 = Time = 6
attr = S, NA
damage = 60
animtype = Heavy
guardflag = MA
hitflag = MAf
priority = 6, Hit
;pausetime = 12, 12
sparkxy = 20, -22
hitsound = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -1, -10.5
airguard.velocity = -1.8,-.8
air.type = High
air.velocity = 0,-9
air.hittime = 22
fall = 0
projanim = 42011
projremovetime = 6

[State 420, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 11

[State 420, 3]
type = ChangeState
trigger1 = NumTarget;MoveContact
trigger1 = !MoveGuarded
trigger1 = command = "holdup"
value = 9000
ctrl = 1

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 600

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 15

[State 600, 2]
type = Null;HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 20
animtype = Light
guardflag = HA
priority = 3
pausetime = 8,8
sparkxy = -10,-58
hitsound   = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 10

[State 600, 2]
type = Null;HitDef
trigger1 = AnimElem = 2
trigger1 = 0
trigger2 = AnimElem = 2
trigger2 = 0
attr = A, NA
damage    = 20,7
animtype = Light
guardflag = HA
priority = 3
pausetime = 8,8
sparkxy = -10,-58
hitsound   = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 10

[State 600, 2]
type = Projectile
trigger1 = AnimElem = 2
attr = A, NA
damage    = 20
animtype = Light
guardflag = HA
priority = 3
pausetime = 8,8
sparkxy = 35,-58
hitsound   = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 10
projanim = 60011
projremovetime = 10

[State 600, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;---------------------------------------------------------------------------
;Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 40
ctrl = 0
anim = 610

[State 610, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 16

[State 610, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 9

[State 610, 2]
type = Null;HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 40
animtype = Medium
guardflag = HA
priority = 3
pausetime = 10,10
sparkxy = -10,-55
hitsound   = S5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 12

[State 610, 2]
type = Null;HitDef
trigger1 = AnimElem = 4
trigger1 = 0
trigger2 = AnimElem = 4
trigger2 = 0
attr = A, NA
damage = 40, 13
animtype = Medium
guardflag = HA
priority = 3
pausetime = 10,10
sparkxy = -10,-55
hitsound   = S5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 12

[State 610, 2]
type = Projectile
trigger1 = AnimElem = 4
attr = A, NA
damage = 40
animtype = Medium
guardflag = HA
priority = 3
pausetime = 10,10
sparkxy = 40,-55
hitsound   = S5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 12
projanim = 61011
projremovetime = 3

[State 610, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 65
ctrl = 0
anim = 620

[State 620, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 17

[State 620, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 10

[State 620, 2]
type = Null;HitDef
trigger1 = AnimElem = 5
attr = A, NA
damage = 60
animtype = Heavy
guardflag = HA
priority = 3
pausetime = 12,12
sparkxy = -10,-55
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,19
air.hittime = 20
fall = 1

[State 620, 2]
type = Null;HitDef
trigger1 = AnimElem = 5
trigger1 = 0
trigger2 = AnimElem = 5
trigger2 = 0
attr = A, NA
damage = 60,20
animtype = Heavy
guardflag = HA
priority = 3
pausetime = 12,12
sparkxy = -10,-55
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,19
air.hittime = 20
fall = 1

[State 620, 2]
type = Projectile
trigger1 = AnimElem = 5
attr = A, NA
damage = 60
animtype = Heavy
guardflag = HA
priority = 3
pausetime = 12,12
sparkxy = 40,-55
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,19
air.hittime = 20
fall = 1
projanim = 62011
projremovetime = 3

[State 620, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

;---------------------------------------------------------------------------
; Stand Light Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 20
velset = 0,0
ctrl = 0
anim = 230

[State 230, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 15

[State 230, 2]
type = Null;HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage    = 20
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = MA
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 8,8
sparkxy = -10, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.type = Low
air.velocity = -1,-3
air.hittime = 10
down.velocity = -1,-3

[State 230, 2]
type = Null;HitDef
trigger1 = AnimElem = 2
trigger1 = 0
trigger2 = AnimElem = 2
trigger2 = 0
attr = S, NA
damage    = 20
animtype = Light
getpower = 20,7
givepower = 15,8
guardflag = MA
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 8,8
sparkxy = -10, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.type = Low
air.velocity = -1,-3
air.hittime = 10
down.velocity = -1,-3

[State 230, 2]
type = Projectile
trigger1 = AnimElem = 2
attr = S, NA
damage    = 20
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = MA
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 8,8
sparkxy = 30, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.type = Low
air.velocity = -1,-3
air.hittime = 10
down.velocity = -1,-3
projanim = 23011
projremovetime = 6

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Medium Kick
[Statedef 240]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 240                       ;Change animation (Def: no change)
poweradd = 40                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 240, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 16

[State 240, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -10, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.2,-3.2         ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 240, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
trigger1 = 0
trigger2 = AnimElem = 3
trigger2 = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40,13                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -10, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.2,-3.2         ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 240, 1]
type = Projectile
trigger1 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = 40, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.2,-3.2         ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air
projanim = 24011
projremovetime = 3

[State 240, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 12

[State 240, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Strong Kick
[Statedef 250]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 250                       ;Change animation (Def: no change)
poweradd = 65                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 250, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 18

[State 250, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 12,12                ;Time attacker pauses, time opponent shakes
sparkxy = -10, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.2,-3.2         ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air

[State 250, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
trigger1 = 0
trigger2 = AnimElem = 3
trigger2 = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60,20                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 12,12                ;Time attacker pauses, time opponent shakes
sparkxy = -10, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.2,-3.2         ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air

[State 250, 1]
type = Projectile
trigger1 = AnimElem = 8
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 12,12                ;Time attacker pauses, time opponent shakes
sparkxy = 45, -42               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.2,-3.2         ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
projanim = 25011
projremovetime = 4

[State 250, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 13

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 15
poweradd= 20
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 15

[State 430, 2]
type = Null;HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 20
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = L
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 12,8
sparkxy = -10, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.type = Low
air.velocity = -2,-3
air.hittime = 10
down.velocity = -2,-3

[State 430, 2]
type = Null;HitDef
trigger1 = Time = 0
trigger1 = 0
trigger2 = Time = 0
trigger2 = 0
attr = C, NA
damage    = 20,7
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = L
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 12,8
sparkxy = -10, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.type = Low
air.velocity = -2,-3
air.hittime = 10
down.velocity = -2,-3

[State 430, 2]
type = Projectile
trigger1 = AnimElem = 2
attr = C, NA
damage    = 20
animtype = Light
getpower = 20,10
givepower = 15,8
guardflag = L
hitflag = MAFD
priority = 5, Hit
sparkno = 0
pausetime = 12,8
sparkxy = 30, -22
hitsound = S5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.type = Low
air.velocity = -2,-3
air.hittime = 10
down.velocity = -2,-3
projanim = 43011
projremovetime = 3

[State 430, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 430, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching medium kick
[Statedef 440]
type    = C                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = C                      ;Physics: S-stand, C-crouch, A-air
juggle  = 7                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 440                       ;Change animation (Def: no change)
poweradd = 40                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 440, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 16

[State 440, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 40                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -10, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low                ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low                   ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.2,-3           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air

[State 440, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
trigger1 = 0
trigger2 = AnimElem = 3
trigger2 = 0
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 40,13                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = -10, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low                ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low                   ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.2,-3           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air

[State 440, 1]
type = Projectile
trigger1 = AnimElem = 4
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 40                   ;Damage that move inflicts, guard damage
animtype = Medium                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10,10                ;Time attacker pauses, time opponent shakes
sparkno = 0                      ;Spark anim no (Def: set above)
sparkxy = 40, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low                ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low                   ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.2,-3           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air
projanim = 44011
projremovetime = 4

[State 440, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 12

[State 440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching strong kick
[Statedef 450]
type    = C                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = C                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 450                       ;Change animation (Def: no change)
poweradd = 65                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 650, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 450, 1]
type = Null;HitDef
trigger1 = AnimElem = 7
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 60                      ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 12,12                ;Time attacker pauses, time opponent shakes
sparkxy = -10, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.2,-3           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air

[State 450, 1]
type = Null;HitDef
trigger1 = AnimElem = 7
trigger1 = 0
trigger2 = AnimElem = 7
trigger2 = 0
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 60,20                      ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 12,12                ;Time attacker pauses, time opponent shakes
sparkxy = -10, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.2,-3           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air

[State 450, 1]
type = Projectile
trigger1 = AnimElem = 6
attr = C, NA                     ;Attribute: Standing, Normal Attack
damage = 60                      ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L                    ;Flags on how move is to be guarded against
hitflag = MAFD                   ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 12,12                ;Time attacker pauses, time opponent shakes
sparkxy = 50, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 7             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -2           ;Velocity at which opponent is pushed
airguard.velocity = -1.2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.2,-3           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
                                 ;Time before opponent regains control in air
projanim = 45011
projremovetime = 6

[State 450, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 14

[State 450, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 15

[State 630, 2]
type = Null;HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 20
animtype = Light
guardflag = HA
priority = 3
pausetime = 8,8
sparkxy = -10,-58
hitsound   = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 10

[State 630, 2]
type = Null;HitDef
trigger1 = AnimElem = 2
trigger1 = 0
trigger2 = AnimElem = 2
trigger2 = 0
attr = A, NA
damage    = 20,7
animtype = Light
guardflag = HA
priority = 3
pausetime = 8,8
sparkxy = -10,-58
hitsound   = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 10

[State 630, 2]
type = Projectile
trigger1 = AnimElem = 2
attr = A, NA
damage    = 20
animtype = Light
guardflag = HA
priority = 3
pausetime = 8,8
sparkxy = 30,-58
hitsound   = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 10
projanim = 63011
projremovetime = 10

[State 630, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;---------------------------------------------------------------------------
;Jump Medium Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 40
ctrl = 0
anim = 640

[State 640, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 16

[State 640, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 12

[State 640, 2]
type = Null;HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 40
animtype = Medium
guardflag = HA
priority = 3
pausetime = 10,10
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 12

[State 640, 2]
type = Null;HitDef
trigger1 = AnimElem = 4
trigger1 = 0
trigger2 = AnimElem = 4
trigger2 = 0
attr = A, NA
damage = 40,13
animtype = Medium
guardflag = HA
priority = 3
pausetime = 10,10
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 12

[State 640, 2]
type = Projectile
trigger1 = AnimElem = 4
attr = A, NA
damage = 40
animtype = Medium
guardflag = HA
priority = 3
pausetime = 10,10
sparkxy = 45,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 7
ground.hittime  = 15
ground.velocity = -2
air.velocity = 0,-2
air.hittime = 12
projanim = 64011
projremovetime = 3

[State 640, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 7
poweradd= 65
ctrl = 0
anim = 650

[State 650, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 18

[State 650, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 13

[State 650, 2]
type = Null;HitDef
trigger1 = AnimElem = 7
attr = A, NA
damage = 60
animtype = Heavy
guardflag = HA
priority = 3
pausetime = 12,12
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
air.velocity = -8,-7
air.hittime = 17
fall = 1

[State 650, 2]
type = Null;HitDef
trigger1 = AnimElem = 7
trigger1 = 0
trigger2 = AnimElem = 7
trigger2 = 0
attr = A, NA
damage = 60,20
animtype = Heavy
guardflag = HA
priority = 3
pausetime = 12,12
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
air.velocity = -8,-7
air.hittime = 17
fall = 1

[State 650, 2]
type = Projectile
trigger1 = AnimElem = 7
attr = A, NA
damage = 60
animtype = Heavy
guardflag = HA
priority = 3
pausetime = 12,12
sparkxy = 25,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
air.velocity = -8,-7
air.hittime = 17
fall = 1
projanim = 65011
projremovetime = 7

[State 650, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

;---------------------------------------------------------------------------
; Slide Kick
[Statedef 460]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 15,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 460                       ;Change animation (Def: no change)
poweradd = 65                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)

[State 460, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 18

[State 460, 1]
type = Null;HitDef
trigger1 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60, 7                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 11,11                ;Time attacker pauses, time opponent shakes
sparkxy = -10, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 3             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.2,-3.2         ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air

[State 460, 1]
type = Projectile
trigger1 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60, 7                   ;Damage that move inflicts, guard damage
animtype = Heavy                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
                                 ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 11,11                ;Time attacker pauses, time opponent shakes
sparkxy = 40, -22               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5, 3                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 3             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2.2,-3.2         ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15                 ;Time before opponent regains control in air
projanim = 46011
projremovetime = 4

[State 460, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 13

[State 460, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Light Fireball Start
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 105
anim = 1002
ctrl = 0
velset = 0,0,0

[State 1000, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0, 1
volume = 255

[State 1000, Helper]
type = Helper
trigger1 = NumHelper(1103) < 1
trigger1 = Time = 14
helpertype = normal
name = "Light Fireball"
id = 1103
postype = p1
pos = 15,0
stateno = 1103
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 1000, 3]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Light Fireball projectile
[Statedef 1103]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0,0
anim = 1102

[State 1103, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 3000,0,0
Trans = add

[State 1103, 2]
type = velset
triggerall = 1
triggerall = 1
trigger1 = time >= 0
x = 3
y = 0

[State 1103, 3]
type = Null;HitDef
trigger1 = time = 0
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAF
pausetime = 0,4
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

[State 1103, 3]
type = Projectile
trigger1 = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAF
pausetime = 0,4
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
projanim = 11031
projremovetime = 1

[State 1103, 4]
type = ChangeState
trigger1 = Parent,NumTarget;movecontact
trigger2 = time = 100
value = 1101
ctrl = 0

;---------------------------------------------------------------------------
;Medium Fireball Start
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 105
anim = 1002
ctrl = 0
velset = 0,0,0

[State 1001, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0, 1
volume = 255

[State 1001, Helper]
type = Helper
trigger1 = NumHelper(1102) < 1
trigger1 = Time = 14
helpertype = normal
name = "Medium Fireball"
id = 1102
postype = p1
pos = 15,0
stateno = 1102
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 1001, 3]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Medium Fireball projectile
[Statedef 1102]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0,0
anim = 1102

[State 1102, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 3000,0,0
Trans = add

[State 1102, 2]
type = velset
triggerall = 1
triggerall = 1
trigger1 = time >= 0
x = 5
y = 0

[State 1102, 3]
type = Null;HitDef
trigger1 = time = 0
attr = A, SP
damage   = 72, 8
animtype = Medium
guardflag = MA
hitflag   = MAF
pausetime = 0,4
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

[State 1102, 3]
type = Projectile
trigger1 = 1
attr = A, SP
damage   = 72, 8
animtype = Medium
guardflag = MA
hitflag   = MAF
pausetime = 0,4
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
projanim = 11031
projremovetime = 1

[State 1102, 4]
type = ChangeState
trigger1 = Parent,NumTarget;movecontact
trigger2 = time = 60
value = 1101
ctrl = 0

;---------------------------------------------------------------------------
;Strong Fireball Start
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 105
anim = 1002
ctrl = 0
velset = 0,0,0

[State 1002, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0, 1
volume = 255

[State 1002, Helper]
type = Helper
trigger1 = NumHelper(1100) < 1
trigger1 = Time = 14
helpertype = normal
name = "Strong Fireball"
id = 1100
postype = p1
pos = 15,0
stateno = 1100
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 1002, 3]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Strong Fireball projectile
[Statedef 1100]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0,0
anim = 1100

[State 1100, 1]
type = AfterImage
trigger1 = time = 0
trigger1 = 1
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 3000,0,0
Trans = add

[State 1100, 2]
type = velset
triggerall = 1
triggerall = 1
trigger1 = time >= 0
x = 7
y = 0

[State 1100, 3]
type = Null;HitDef
trigger1 = time = 0
attr = A, SP
damage   = 72, 8
animtype = Hard
guardflag = MA
hitflag   = MAF
pausetime = 0,4
sparkno = -1
sparkxy = 0,0
hitsound = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

[State 1100, 3]
type = Projectile
trigger1 = 1
attr = A, SP
damage   = 72, 8
animtype = Hard
guardflag = MA
hitflag   = MAF
pausetime = 0,4
sparkno = -1
sparkxy = 0,0
hitsound = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
projanim = 11001
projremovetime = 1

[State 1100, 4]
type = ChangeState
trigger1 = Parent,NumTarget;movecontact
trigger2 = time = 60
value = 1101
ctrl = 0

;---------------------------------------------------------------------------
;Strong Fireball StartEX
[Statedef 1050]
type    = S
movetype= A
physics = S
juggle = 5
poweradd= -1000
anim = 1002
ctrl = 0
velset = 0,0,0

[State 1050, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 2
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1050, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1050, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0, 1
volume = 255

[State 1050, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1, 31
volume = 255

[State 1050, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1, 27
volume = 255

[State 1050, Helper]
type = Helper
trigger1 = NumHelper(1051) < 1
trigger1 = Time = 14
helpertype = normal
name = "Strong Fireball"
id = 1051
postype = p1
pos = 15,0
stateno = 1051
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 1050, 3]
type = ChangeState
trigger1 = Time = 24
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Strong Fireball projectileEX
[Statedef 1051]
type    = A
movetype= A
physics = N
juggle = 5
ctrl = 0
velset = 0,0,0
anim = 1100
sprpriority = 5

[State 1051, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalContrast = 140,140,0
Trans = add

[State 1051, 2]
type = velset
trigger1 = time >= 0
x = 7
y = 0

[State 1051, 3]
type = Null;HitDef
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || Animelem = 6 || AnimElem = 7 || AnimElem = 8 ||AnimElem = 9 ||AnimElem = 10 || AnimElem = 11
attr = A, SP
damage   = 18, 4
animtype = Heavy
guardflag = MA
hitflag   = MAF
pausetime = 12,12
sparkxy = -10, -42
hitsound = S0,2
guardsound = 6,0
ground.type = Low         
ground.slidetime = 0       
ground.hittime  = 3             
ground.velocity = 0           
airguard.velocity = -1.2,-.8     
air.type = High              
air.velocity = -5,0       
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1

[State 1051, 3]
type = Projectile
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || Animelem = 6 || AnimElem = 7 || AnimElem = 8 ||AnimElem = 9 ||AnimElem = 10 || AnimElem = 11
attr = A, SP
damage   = 18, 4
animtype = Heavy
guardflag = MA
hitflag   = MAF
;pausetime = 12,12
sparkxy = 20, -42
hitsound = S0,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 0
ground.hittime  = 3
ground.velocity = 0
airguard.velocity = -1.2,-.8
air.type = High
air.velocity = -5,0
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1
projanim = 11001
projremovetime = 2

[State 1051, 4]
type = ChangeState
trigger1 = 0;movecontact = 2
trigger2 = time = 30
value = 1101
ctrl = 0

;---------------------------------------------------------------------------
;Strong Fireball StartEX (Air)
[Statedef 1052]
type    = A
movetype= A
poweradd= -1000
anim = 1800
ctrl = 0
velset = 0,0,0

[State 1052, Flub]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1052, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 2
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
PalMul      = .85,.85,.50
Trans = add

[State 1052, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1052, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0, 1
volume = 255

[State 1052, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1, 31
volume = 255

[State 1052, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = S1, 27
volume = 255

[State 1052, Helper]
type = Helper
trigger1 = NumHelper(1051) < 1
trigger1 = Time = 14
helpertype = normal
name = "Strong Fireball"
id = 1051
postype = p1
pos = 15,-9
stateno = 1051
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 1052, 3]
type = ChangeState
trigger1 = Time = 24
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Strong Fireball projectileEX (Air)
[Statedef 1053]
type    = A
movetype= A
physics = A
ctrl = 0
velset = 0,0,0
anim = 1100
sprpriority = 5

[State 1053, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalContrast = 140,140,0
Trans = add

[State 1053, 2]
type = velset
trigger1 = time >= 0
x = 7
y = 0

[State 1053, 3]
type = Null;HitDef
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || Animelem = 6 || AnimElem = 7 || AnimElem = 8 ||AnimElem = 9 ||AnimElem = 10 || AnimElem = 11
attr = A, SP
damage   = 18, 4
animtype = Heavy
guardflag = MA
hitflag   = MAF
pausetime = 12,12
sparkxy = -10, -42
hitsound = S0,2
guardsound = 6,0
ground.type = Trip         
ground.slidetime = 0       
ground.hittime  = 9             
ground.velocity = -1.5           
airguard.velocity = -1.2,-.8     
air.type = High              
air.velocity = -7,0       
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1

[State 1053, 3]
type = Projectile
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || Animelem = 6 || AnimElem = 7 || AnimElem = 8 ||AnimElem = 9 ||AnimElem = 10 || AnimElem = 11
attr = A, SP
damage   = 18, 4
animtype = Heavy
guardflag = MA
hitflag   = MAF
;pausetime = 12,12
sparkxy = 20, -42
hitsound = S0,2
guardsound = 6,0
ground.type = Trip
ground.slidetime = 0
ground.hittime  = 9
ground.velocity = -1.5
airguard.velocity = -1.2,-.8
air.type = High
air.velocity = -7,0
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1
projanim = 11001
projremovetime = 2

[State 1053, 4]
type = ChangeState
trigger1 = movecontact = 7
trigger2 = time = 60
value = 1101
ctrl = 0

;---------------------------------------------------------------------------
;Fireball Hit Spark
[Statedef 1101]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1101
sprpriority = 2

[State 1101, 0]
type = PlaySnd
trigger1 = Time = 1
value = S0, 2
volume = 255

[State 1101, AfterImageTime]
type = AfterImageTime
trigger1 = time = 0
time = 0

[state 1101, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Light Tornado Spin
[Statedef 1200]
type    = S     
movetype= A     
physics = S  
poweradd = 65
ctrl = 0
juggle = 5
velset = 3, 0
anim = 1200
sprpriority = 2

[State 1200, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0, 8

[State 1200, 2]
type = Null;HitDef
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7    
attr = A, SA
damage   = 6,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1200, 3]
type = Null;HitDef
trigger1 = Animelem = 10   
attr = S, SA
damage   = 20,10
animtype = Heavy
getpower = 30
givepower = 20
guardflag = MAF
pausetime = 12,12
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1200, 2]
type = Projectile
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7
attr = A, SA
damage   = 6,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = 30,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12001
projremovetime = 2

[State 1200, 3]
type = Projectile
trigger1 = Animelem = 10
attr = S, SA
damage   = 20,10
animtype = Heavy
getpower = 30
givepower = 20
guardflag = MAF
pausetime = 12,12
sparkxy = 35,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12011
projremovetime = 3

[State 1200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1200, MakeDust]
type = MakeDust
trigger1 = Animelem = 10
spacing = 1
pos = -3, 0

;---------------------------------------------------------------------------
;Medium Tornado Spin
[Statedef 1201]
type    = S     
movetype= A     
physics = S  
poweradd = 65
ctrl = 0
juggle = 5
velset = 3, 0
anim = 1201
sprpriority = 2

[State 1201, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1201, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0, 8
volume = 15

[State 1201, 2]
type = Null;HitDef
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13  
attr = A, SA
damage   = 8,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1201, 3]
type = Null;HitDef
trigger1 = Animelem = 16   
attr = S, SA
damage   = 30,10
animtype = Hard
getpower = 30
givepower = 20
guardflag = MAF
pausetime = 12,12
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 20
ground.velocity = -15
air.velocity = -2.5,-5.5

[State 1201, 2]
type = Projectile
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13
attr = A, SA
damage   = 8,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = 30,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12001
projremovetime = 2

[State 1201, 3]
type = Projectile
trigger1 = Animelem = 16
attr = S, SA
damage   = 30,10
animtype = Hard
getpower = 30
givepower = 20
guardflag = MAF
pausetime = 12,12
sparkxy = 35,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 20
ground.velocity = -15
air.velocity = -2.5,-5.5
projanim = 12011
projremovetime = 3

[State 1201, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1201, MakeDust]
type = MakeDust
trigger1 = Animelem = 16
spacing = 1
pos = -3, 0

;---------------------------------------------------------------------------
;Strong Tornado Spin
[Statedef 1202]
type    = S     
movetype= A     
physics = S  
poweradd = 65
ctrl = 0
juggle = 4
velset = 3, 0
anim = 1202
sprpriority = 2

[State 1202, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1202, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0, 8
volume = 30

[State 1202, 2]
type = Null;HitDef
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13 || Animelem = 14 || Animelem = 16 || Animelem = 19
attr = A, SA
damage   = 10,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1202, 3]
type = Null;HitDef
trigger1 = AnimElem = 22
attr = S, SA
damage    = 30,8
priority  = 3, Hit
animtype  = Heavy
guardflag =MA
pausetime = 22,8
numhits = 1
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High               
ground.slidetime = 20            
ground.hittime  = 22             
ground.velocity = -2 ,-10.5            
airguard.velocity = -1.8,-.8                       
air.velocity = -2,-6                                  
air.hittime = 12             
fall = 1

[State 1202, 2]
type = Projectile
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13 || Animelem = 14 || Animelem = 16 || Animelem = 19
attr = A, SA
damage   = 10,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = 30,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12001
projremovetime = 2

[State 1202, 3]
type = Projectile
trigger1 = AnimElem = 22
attr = S, SA
damage    = 30,8
priority  = 3, Hit
animtype  = Heavy
guardflag =MA
pausetime = 22,8
numhits = 1
sparkxy = 35,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -2 ,-10.5
airguard.velocity = -1.8,-.8
air.velocity = -2,-6
air.hittime = 12
fall = 1
projanim = 12011
projremovetime = 3

[State 1202, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1202, MakeDust]
type = MakeDust
trigger1 = Animelem = 22
spacing = 1
pos = -3, 0

;---------------------------------------------------------------------------
;Light Tornado Spin (Air)
[Statedef 1203]
type    = A     
movetype= A     
physics = A  
poweradd = 65
ctrl = 0
juggle = 5
velset = 3, 0
anim = 1200
sprpriority = 2

[State 1203, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0, 8

[State 1203, 1]
type = ChangeState
trigger1 = Pos Y >= 0
value = 0

[State 1203, 2]
type = VelAdd
trigger1 = Time = 0
trigger2 = Animelem = 4
x = -1
y = -2

[State 1203, 3] ;Gravity
type = VelAdd
trigger1 = Time >= 0
trigger2 = Animelem = 4
y = 0

;[State 1203, 4]
;type = PlaySnd
;trigger1 = Time = 1
;value = 0, 0

[State 1203, 5]
type = Null;HitDef
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7    
attr = A, SA
damage   = 6,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1203, 6]
type = Null;HitDef
trigger1 = Animelem = 10   
attr = S, SA
damage   = 20,10
animtype = Heavy
getpower = 30
givepower = 20
guardflag = MAF
pausetime = 12,12
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1203, 5]
type = Projectile
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7
attr = A, SA
damage   = 6,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = 30,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12001
projremovetime = 2

[State 1203, 6]
type = Projectile
trigger1 = Animelem = 10
attr = S, SA
damage   = 20,10
animtype = Heavy
getpower = 30
givepower = 20
guardflag = MAF
pausetime = 12,12
sparkxy = 35,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12011
projremovetime = 3

[State 1203, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1203, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

;---------------------------------------------------------------------------
;Medium Tornado Spin (Air)
[Statedef 1204]
type    = A     
movetype= A     
physics = A  
poweradd = 65
ctrl = 0
juggle = 5
velset = 3, 0
anim = 1201
sprpriority = 2

[State 1204, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1204, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0, 8
volume = 15

[State 1204, 1]
type = ChangeState
trigger1 = Pos Y >= 0
value = 0

[State 1204, 2]
type = VelAdd
trigger1 = Time = 0
;trigger2 = Animelem = 7
x = -2
y = -6

[State 1204, 3] ;Gravity
type = VelAdd
trigger1 = Time >= 0
;trigger2 = Animelem = 7
y = 0

;[State 1204, 4]
;type = PlaySnd
;trigger1 = Time = 1
;value = 0, 0

[State 1204, 5]
type = Null;HitDef
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13  
attr = A, SA
damage   = 8,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1204, 6]
type = Null;HitDef
trigger1 = Animelem = 16   
attr = S, SA
damage   = 30,10
animtype = Hard
getpower = 30
givepower = 20
guardflag = MAF
pausetime = 12,12
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 20
ground.velocity = -15
air.velocity = -2.5,-5.5

[State 1204, 5]
type = Projectile
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13
attr = A, SA
damage   = 8,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = 30,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12001
projremovetime = 2

[State 1204, 6]
type = Projectile
trigger1 = Animelem = 16
attr = S, SA
damage   = 30,10
animtype = Hard
getpower = 30
givepower = 20
guardflag = MAF
pausetime = 12,12
sparkxy = 35,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 20
ground.velocity = -15
air.velocity = -2.5,-5.5
projanim = 12011
projremovetime = 3

[State 1204, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Strong Tornado Spin (Air)
[Statedef 1205]
type    = A     
movetype= A     
physics = A  
poweradd = 65
ctrl = 0
juggle = 5
velset = 3, 0
anim = 1206
sprpriority = 2

[State 1205, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1205, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0, 8
volume = 30

[State 1205, 7]
type = VelSet
trigger1 = Animelem = 1
trigger2 = Animelem = 4
trigger3 = Animelem = 7
trigger4 = Animelem = 10
trigger5 = Animelem = 13
trigger6 = Animelem = 16
trigger7 = Animelem = 19
trigger8 = Animelem = 22
x = .6
y = .3

[State 1205, 2]
type = Null;HitDef
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13 || Animelem = 14 || Animelem = 16 || Animelem = 19
attr = A, SA
damage   = 10,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1205, 3]
type = Null;HitDef
trigger1 = AnimElem = 22
attr = S, SA
damage    = 30,8
priority  = 3, Hit
animtype  = Heavy
guardflag =MA
pausetime = 22,8
numhits = 1
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High               
ground.slidetime = 20            
ground.hittime  = 22             
ground.velocity = -2 ,-10.5            
airguard.velocity = -1.8,-.8                       
air.velocity = -2,-6                                  
air.hittime = 12             
fall = 1

[State 1205, 2]
type = Projectile
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13 || Animelem = 14 || Animelem = 16 || Animelem = 19
attr = A, SA
damage   = 10,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkno = 0
sparkxy = 30,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12001
projremovetime = 2

[State 1205, 3]
type = Projectile
trigger1 = AnimElem = 22
attr = S, SA
damage    = 30,8
priority  = 3, Hit
animtype  = Heavy
guardflag =MA
pausetime = 22,8
numhits = 1
sparkxy = 35,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -2 ,-10.5
airguard.velocity = -1.8,-.8
air.velocity = -2,-6
air.hittime = 12
fall = 1
projanim = 12011
projremovetime = 3

[State 1205, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Strong Tornado SpinEX
[Statedef 1250]
type    = S     
movetype= A     
physics = S  
ctrl = 0
juggle = 6
velset = 10, 0
anim = 1202
sprpriority = 2
poweradd = -1000

[State 1250, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1250, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1250, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1250, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1, 5
volume = 60

[State 1250, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 31
volume = 255

[State 1250, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 1250, 2]
type = Null;HitDef
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13 || Animelem = 14 || Animelem = 16 || Animelem = 19
attr = A, SA
damage   = 20,8
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkxy = -10,-42
numhits = 2
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1250, 3]
type = Null;HitDef
trigger1 = AnimElem = 22
attr = S, SA
damage    = 30,8
priority  = 3, Hit
animtype  = Hard
guardflag =MA
pausetime = 30,7
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1

[State 1250, 2]
type = Projectile
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13 || Animelem = 14 || Animelem = 16 || Animelem = 19
attr = A, SA
damage   = 20,8
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
sparkxy = 30,-42
numhits = 2
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12001
projremovetime = 2

[State 1250, 3]
type = Projectile
trigger1 = AnimElem = 22
attr = S, SA
damage    = 30,8
priority  = 3, Hit
animtype  = Hard
guardflag =MA
pausetime = 30,7
sparkxy = 35,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
projanim = 12011
projremovetime = 3

[State 1250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1250, MakeDust]
type = MakeDust
trigger1 = Animelem = 22
spacing = 1
pos = -3, 0

;---------------------------------------------------------------------------
;Strong Tornado SpinEX (Air)
[Statedef 1251]
type    = A     
movetype= A     
physics = A  
ctrl = 0
juggle = 6
velset = 3, 0
anim = 1206
sprpriority = 2
poweradd = -1000

[State 1251, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1251, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1251, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1251, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1, 5
volume = 60

[State 1251, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 31
volume = 255

[State 1251, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 1251, 7]
type = VelSet
trigger1 = Animelem = 1
trigger2 = Animelem = 4
trigger3 = Animelem = 7
trigger4 = Animelem = 10
trigger5 = Animelem = 13
trigger6 = Animelem = 16
trigger7 = Animelem = 19
trigger8 = Animelem = 22
x = .6
y = .3

[State 1251, 2]
type = Null;HitDef
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13 || Animelem = 14 || Animelem = 16 || Animelem = 19
attr = A, SA
damage   = 20,8
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
numhits = 2
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5

[State 1251, 3]
type = Null;HitDef
trigger1 = AnimElem = 22
attr = S, SA
damage    = 30,8
priority  = 3, Hit
animtype  = Heavy
guardflag =MA
pausetime = 22,8
numhits = 1
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High               
ground.slidetime = 20            
ground.hittime  = 22             
ground.velocity = -2 ,-10.5            
airguard.velocity = -1.8,-.8                       
air.velocity = -2,-6                                  
air.hittime = 12             
fall = 1

[State 1251, 2]
type = Projectile
trigger1 = Animelem = 2 || Animelem = 4 || Animelem = 7  || Animelem = 10 || Animelem = 13 || Animelem = 14 || Animelem = 16 || Animelem = 19
attr = A, SA
damage   = 20,8
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 0,12
numhits = 2
sparkxy = 30,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -2.5,-5.5
projanim = 12001
projremovetime = 2

[State 1251, 3]
type = Projectile
trigger1 = AnimElem = 22
attr = S, SA
damage    = 30,8
priority  = 3, Hit
animtype  = Heavy
guardflag =MA
pausetime = 22,8
numhits = 1
sparkxy = 35,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -2 ,-10.5
airguard.velocity = -1.8,-.8
air.velocity = -2,-6
air.hittime = 12
fall = 1
projanim = 12011
projremovetime = 3

[State 1251, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Drill Kick
[Statedef 1300]
type    = A     
movetype= A     
physics = A  
poweradd = 75
ctrl = 0
juggle = 5
velset = 0, 0
anim = 1300
sprpriority = 2

[State 1300, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 18

[State 1300, 1]
type = VelSet
trigger1 = Animelem = 3
trigger2 = Animelem = 4
trigger3 = Animelem = 5
trigger4 = Animelem = 7
trigger5 = Animelem = 9
x = .7
y = .5

[State 1300, 2]
type = Null;HitDef
trigger1 = Animelem = 3 || Animelem = 4 || Animelem = 5 || Animelem = 7 || Animelem = 9
attr = A, SA
damage   = 10,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 5,2
sparkno = 0
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
;air.velocity = -2.5,-5.5

[State 1300, 2]
type = Projectile
trigger1 = Animelem = 3 || Animelem = 4 || Animelem = 5 || Animelem = 7 || Animelem = 9
attr = A, SA
damage   = 10,4
animtype = Light
getpower = 30
givepower = 20
guardflag = MA
pausetime = 5,2
sparkno = 0
sparkxy = 35,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
;air.velocity = -2.5,-5.5
projanim = 13001
projremovetime = 3

[State 1300, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 13

[State 1300, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Head Stomp
[Statedef 1400]                       
type    = A
physics = A
movetype = A
poweradd = 65
ctrl = 0
velset = 0,0
anim = 1400

[State 1400, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 16

[State 1400, 2]
type = Null;HitDef
trigger1 = time = 0
attr = A, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 10,2
pausetime = 11,11
sparkno = 0
hitsound = S5,1
ground.slidetime = 20
guard.dist = 0

[State 1400, 2]
type = Projectile
trigger1 = AnimElem = 4
attr = A, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 10,2
pausetime = 11,11
sparkno = 0
sparkxy = 10,0
hitsound = S5,1
ground.slidetime = 20
guard.dist = 0
projanim = 14001
projremovetime = 5

[State 1400, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 12

[State 1400, 4]
type = changestate
trigger1 = NumTarget
value = 1401
ctrl = 1

[State 1400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Head Stomp
[Statedef 1401]                                   
type = A
physics = A
movetype = A
ctrl = 0
velset = 3,-7
anim = 1401

[State 1401, 1]
type = Null;HitDef
trigger1 = Animelem = 1
attr = A, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 50,5
pausetime = 15,20
sparkno = 0
hitsound = S5,1
ground.slidetime = 20
guard.dist = 0

[State 1401, 3]
type = ChangeState
trigger1 = AnimElem = 1
value = 50
ctrl = 1

;--------------------------------------------------------------------------------------------------
;Light Coin Punch
[Statedef 1500]
type = S
movetype = A
physics = N
anim = 1500
poweradd = 65
velset = 0
ctrl = 0
juggle = 0

[State 1500, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 1500, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1501

[State 1500, 3]
type = Null;HitDef
trigger1 = AnimElem = 2
attr = C, SA
damage    = 90
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 9,6
sparkno = 0
sparkxy = 0, -20
hitsound   = S5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2, -3
air.velocity = -1.3,-3
fall = 1
fall.recover = 0

[State 1500, 3]
type = Projectile
trigger1 = AnimElem = 5
attr = C, SA
damage    = 90
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 9,6
sparkno = 0
sparkxy = 25, -20
hitsound   = S5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2, -3
air.velocity = -1.3,-3
fall = 1
fall.recover = 0
projanim = 15001
projremovetime = 1

[State 1500, 4]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1500, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 14

[State 1500, 6]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 5;HitPauseTime = 5
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = 0, -50
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1500, 7]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 5;HitPauseTime = 5
ignorehitpause = 1
value = 0, 20
volume = -160

;-----------------------------------------------------------------------------
;Light Coin Punch Still
[Statedef 1501]  
type = A
movetype = A
anim = 1501
physics = A
ctrl = 0
velset = 4,-5.5
juggle = 7

[State 1501, 1]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 1501, 3]
type = Null;HitDef
trigger1 = AnimElem = 1
attr = S, SA
damage    = 60
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = 0, -20
hitsound   = S5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2.8, -9
air.velocity = -2.8,-9
fall = 1
fall.recover = 0

[State 1501, 3]
type = Projectile
trigger1 = AnimElem = 1
attr = S, SA
damage    = 60
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = 50, -20
hitsound   = S5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2.8, -9
air.velocity = -2.8,-9
fall = 1
fall.recover = 0
projanim = 15011
projremovetime = 2

[State 1501, 4]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2;HitPauseTime = 10
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = 0, -50
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1501, 5]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2;HitPauseTime = 10
ignorehitpause = 1
value = S0, 20
volume = -160

;------------------------------------------------------------------------------
;Medium Coin Punch
[Statedef 1502]
type = S
physics = N
movetype = A
anim = 1502
poweradd = 65
velset = 0
ctrl = 0
juggle = 0

[State 1502, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 1502, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1503

[State 1502, 3]
type = Null;HitDef
trigger1 = AnimElem = 2
attr = A, SA
damage    = 40,3
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 9,9
sparkno = 0
sparkxy = 0, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1.3,-3

[State 1502, 3]
type = Projectile
trigger1 = AnimElem = 2
attr = A, SA
damage    = 40,3
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 9,9
sparkno = 0
sparkxy = 25, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1.3,-3
projanim = 15001
projremovetime = 1

[State 1502, 4]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1502, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 14

[State 1502, 6]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 5;HitPauseTime = 8
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = 0, -50
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1502, 7]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 5;HitPauseTime = 8
ignorehitpause = 1
value = S0, 20
volume = -160

;-------------------------------------------------------------------------------
;Medium Coin Punch Still
[Statedef 1503]  
type = A
movetype = A
anim = 1503
physics = A
ctrl = 0
velset = 6,-7.5
juggle = 7

[State 1503, 1]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 1503, 2]
type = Null;HitDef
trigger1 = AnimElem = 1 || AnimElem = 2
attr = A, SA
damage    = 40, 4
animtype  = Light
getpower  = 10
givepower = 8
guardflag = L
pausetime = 10,12
sparkno = 0
sparkxy = 0, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2.8, -10.5
air.velocity = -2.8,-10.5
fall = 1
fall.recover = 0

[State 1503, 2]
type = Projectile
trigger1 = AnimElem = 1 || AnimElem = 2
attr = A, SA
damage    = 40, 4
animtype  = Light
getpower  = 10
givepower = 8
guardflag = L
pausetime = 10,12
sparkno = 0
sparkxy = 50, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2.8, -10.5
air.velocity = -2.8,-10.5
fall = 1
fall.recover = 0
projanim = 15011
projremovetime = 2

[State 1503, 3]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2;HitPauseTime = 9
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = 0, -50
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1503, 4]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2;HitPauseTime = 9
ignorehitpause = 1
value = S0, 20
volume = -160

;------------------------------------------------------------------------------
;Strong Coin Punch
[Statedef 1504]
type = S
physics = N
movetype = A
poweradd = 65
anim = 1504
velset = 0
ctrl = 0
juggle = 0

[State 1504, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 1504, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1505

[State 1504, 3]
type = Null;HitDef
trigger1 = AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 40,3
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 9,9
sparkno = 0
sparkxy = 0, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1.3,-3

[State 1504, 3]
type = Projectile
trigger1 = AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 40,3
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 9,9
sparkno = 0
sparkxy = 25, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1.3,-3
projanim = 15001
projremovetime = 1

[State 1504, 4]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1504, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 14

[State 1504, 6]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 6 || StateTime = 7;HitPauseTime = 8
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = 0, -50
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1504, 7]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 6 || StateTime = 7;HitPauseTime = 8
ignorehitpause = 1
value = S0, 20
volume = -160

;-------------------------------------------------------------------------------
;Strong Coin Punch Still
[Statedef 1505]  
type = A
movetype = A
anim = 1505
physics = A
ctrl = 0
velset = 6.5,-9
juggle = 7

[State 1505, 1]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 1505, 2]
type = Null;HitDef
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3
attr = A, SA
damage    = 40, 4
animtype  = Light
getpower  = 10
givepower = 8
guardflag = L
pausetime = 10,12
sparkno = 0
sparkxy = -20, -62
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2.8, -10.5
air.velocity = -2.8,-12
fall = 1
fall.recover = 0

[State 1505, 2]
type = Projectile
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3
attr = A, SA
damage    = 40, 4
animtype  = Light
getpower  = 10
givepower = 8
guardflag = L
pausetime = 10,12
sparkno = 0
sparkxy = 50, -62
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2.8, -10.5
air.velocity = -2.8,-12
fall = 1
fall.recover = 0
projanim = 15011
projremovetime = 2

[State 1505, 3]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2 || StateTime = 4 || StateTime = 6;HitPauseTime = 9
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = -20, -92
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1505, 4]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2 || StateTime = 4 || StateTime = 6;HitPauseTime = 9
ignorehitpause = 1
value = S0, 20
volume = -160

;------------------------------------------------------------------------------
;Strong Coin PunchEX
[Statedef 1550]
type = S
physics = N
movetype = A
anim = 1504
velset = 0
ctrl = 0
juggle = 0
poweradd = -1000

[State 1550, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1550, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1550, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 1550, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1551

[State 1550, 3]
type = Null;HitDef
trigger1 = AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 40,3
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 30,40
sparkxy = 0, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1.3,-3

[State 1550, 3]
type = Projectile
trigger1 = AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 40,3
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 30,40
sparkxy = 25, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1.3,-3
projanim = 15001
projremovetime = 1

[State 1550, 4]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1550, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 14

[State 1550, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 31
volume = 255

[State 1550, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 1550, 6]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 6 || StateTime = 7;HitPauseTime = 25
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = 0, -50
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1550, 7]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 6 || StateTime = 7;HitPauseTime = 25
ignorehitpause = 1
value = S0, 20
volume = -160

;-------------------------------------------------------------------------------
;Strong Coin Punch StillEX
[Statedef 1551]  
type = A
movetype = A
anim = 1551
physics = A
ctrl = 0
velset = 6.5,-9
juggle = 7

[State 1551, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1551, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1551, 1]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 1551, 2]
type = Null;HitDef
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 20, 4
animtype  = Light
getpower  = 10
givepower = 8
guardflag = L
pausetime = 6,5
sparkxy = -20, -62
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = 0,-10
air.velocity = 0,-10
fall = 1
fall.recover = 0

[State 1551, 2]
type = Projectile
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 20, 4
animtype  = Light
getpower  = 10
givepower = 8
guardflag = L
pausetime = 6,5
sparkxy = 50, -62
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = 0,-10
air.velocity = 0,-10
fall = 1
fall.recover = 0
projanim = 15011
projremovetime = 2

[State 1551, 3]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2 || StateTime = 4 || StateTime = 6 || StateTime = 8 || StateTime = 10 || StateTime = 12 || StateTime = 14;HitPauseTime = 4
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = -20, -92
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1551, 4]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2 || StateTime = 4 || StateTime = 6 || StateTime = 8 || StateTime = 10 || StateTime = 12 || StateTime = 14;HitPauseTime = 4
ignorehitpause = 1
value = S0, 20
volume = -160

;------------------------------------------------------------------------------
;Alpha Counter Strong Coin PunchEX
[Statedef 1560]
type = S
physics = N
movetype = A
anim = 1504
velset = 0
ctrl = 0
juggle = 0
poweradd = -1000

[State 1560, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  40, 280, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1560, Blink White]
type = PalFX
trigger1 = Time = 0
time = 15
add = 500,500,500
sinadd = 64,32,5,3

[State 1560, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 1560, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1551

[State 1560, 3]
type = Null;HitDef
trigger1 = AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 40,3
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 30,40
sparkxy = 0, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1.3,-3

[State 1560, 3]
type = Projectile
trigger1 = AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 40,3
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MA
guardflag = MA
pausetime = 30,40
sparkxy = 25, -20
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1.3,-3
projanim = 15001
projremovetime = 1

[State 1560, 4]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 19

[State 1560, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 14

[State 1560, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 31
volume = 255

[State 1560, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 1560, 5]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 28
volume = 255

[State 1560, 6]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 6 || StateTime = 7;HitPauseTime = 25
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = 0, -50
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1560, 7]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 6 || StateTime = 7;HitPauseTime = 25
ignorehitpause = 1
value = S0, 20
volume = -160

;-------------------------------------------------------------------------------
;Alpha Counter Strong Coin Punch StillEX
[Statedef 1561]  
type = A
movetype = A
anim = 1551
physics = A
ctrl = 0
velset = 6.5,-9
juggle = 7

[State 1561, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  40, 280, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1561, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1561, 1]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 1561, 2]
type = Null;HitDef
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 12, 4
animtype  = Light
getpower  = 10
givepower = 8
guardflag = L
pausetime = 6,5
sparkxy = -10, -42
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = 0,-10
air.velocity = 0,-10
fall = 1
fall.recover = 0

[State 1561, 2]
type = Projectile
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7
attr = A, SA
damage    = 20, 4
animtype  = Light
getpower  = 10
givepower = 8
guardflag = L
pausetime = 6,5
sparkxy = 50, -62
hitsound   = S5, 1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = 0,-10
air.velocity = 0,-10
fall = 1
fall.recover = 0
projanim = 15011
projremovetime = 2

[State 1561, 3]
type = Explod
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2 || StateTime = 4 || StateTime = 6 || StateTime = 8 || StateTime = 10 || StateTime = 12 || StateTime = 14;HitPauseTime = 4
ignorehitpause = 1
anim = 1506
removetime = 32
postype = p2
pos = -20, -92
vel = 0, -5
accel = 0, .2
ontop = 1
ownpal = 1

[State 1561, 4]
type = PlaySnd
trigger1 = NumTarget;MoveHit
trigger1 = StateTime = 2 || StateTime = 4 || StateTime = 6 || StateTime = 8 || StateTime = 10 || StateTime = 12 || StateTime = 14;HitPauseTime = 4
ignorehitpause = 1
value = S0, 20
volume = -160

;---------------------------------------------------------------------------
;Butt Stomp
[Statedef 1600]                                   
type = A
physics = N
movetype = A
poweradd = 65
velset = 0,0
ctrl = 0
anim = 1600

[State 1600, 0]
type = PlaySnd
trigger1 = Time = 1
value = S0, 14
volume = 60

[State 1600, 1]
type = Null;HitDef
trigger1 = Animelem = 1
attr = A, SA
hitflag = MAFD]
guardflag = MA
animtype = HEAVY
damage = 50,5
pausetime = 15,20
sparkno = 0
hitsound = S5,1
ground.slidetime = 20
guard.dist = 0

[State 1600, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1601

;---------------------------------------------------------------------------
;Butt Stomp Still
[Statedef 1601]                                   
type = A
movetype = A
velset = 0,11
anim = 1601

[State 1601, VelAdd]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
y = 3

[State 1601, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 18

[State 1601, 2]
type = Null;HitDef
trigger1 = Animelem = 1
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 75,5
pausetime = 15,14
sparkno = 0
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,19
air.hittime = 15
fall = 1

[State 1601, 2]
type = Projectile
trigger1 = Animelem = 1
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 75,5
pausetime = 15,14
sparkno = 0
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,19
air.hittime = 15
fall = 1
velocity = 0,11
projanim = 16011
projremovetime = 20

[State 1601, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 10
TimeGap = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 0,0,300
Trans = add

[State 1601, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1602
ctrl = 0

;---------------------------------------------------------------------------
;Butt StompEX
[Statedef 1650]                                   
type = A
physics = N
movetype = A
velset = 0,0
ctrl = 0
anim = 1650
poweradd = -1000

[State 1650, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1650, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1650, 0]
type = PlaySnd
trigger1 = Time = 1
value = S1, 5
volume = 100

[State 1560, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 31
volume = 255

[State 1560, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 1650, 1]
type = Null;HitDef
trigger1 = Animelem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
attr = A, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
sparkxy = -10, -53
damage = 16,5
pausetime = 7,5
hitsound = S5,1
ground.slidetime = 20
guard.dist = 0

[State 1650, 1]
type = Projectile
trigger1 = Animelem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
attr = A, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
sparkxy = 10, -53
damage = 16,5
pausetime = 7,5
hitsound = S5,1
ground.slidetime = 20
guard.dist = 0
projanim = 16501
projremovetime = 3

[State 1650, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1651

;---------------------------------------------------------------------------
;Butt Stomp StillEX
[Statedef 1651]                                   
type = A
movetype = A
velset = 0,7
anim = 1651

[State 1651, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1651, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1651, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 18

[State 1651, 2]
type = Null;HitDef
trigger1 = Animelem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 30,5
pausetime = 20,28
hitsound   = S5,1
sparkxy = -10, -53
guardsound = 6,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 7
ground.velocity = -1.3,-1
air.velocity = -1.3,5
air.hittime = 0
fall = 1

[State 1651, 2]
type = Projectile
trigger1 = Animelem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 30,5
pausetime = 20,28
hitsound   = S5,1
sparkxy = 0, -53
guardsound = 6,0
ground.type = Low
ground.slidetime = 17
ground.hittime  = 7
ground.velocity = -1.3,-1
air.velocity = -1.3,5
air.hittime = 0
fall = 1
velocity = 0,7
projanim = 16011
projremovetime = 3

[State 1651, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1602
ctrl = 0

;---------------------------------------------------------------------------
;Butt Stomp End
[Statedef 1602]                                   
type = S
movetype = A
physics = C
velset = 0,0
ctrl = 0
anim = 1602
sprpriority = 2

[State 1602, 0]
type = PosSet
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4
y = 0

[State 1602, 1]
type = Null;HitDef
trigger1 = AnimElem = 1 
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 36,5
pausetime = 15,20
hitsound = S5, 3           
guardsound = 6, 0          
ground.type = Trip         
ground.slidetime = 0       
ground.hittime  = 9             
ground.velocity = -1.5           
airguard.velocity = -1.2,-.8     
air.type = Trip                 
air.velocity = -1.2,-3

[State 1602, 1]
type = Projectile
trigger1 = AnimElem = 1
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 36,5
pausetime = 15,20
hitsound = S5, 3
guardsound = 6, 0
ground.type = Trip
ground.slidetime = 0
ground.hittime  = 9
ground.velocity = -1.5
airguard.velocity = -1.2,-.8
air.type = Trip
air.velocity = -1.2,-3
projanim = 16021
projremovetime = 4
   
[State 1602, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1602, MakeDust]
type = MakeDust
trigger1 = AnimElem = 1 || AnimElem = 2 
spacing = 1
pos = -3, 0

[State 1602, Stone]
type = PlaySnd
trigger1 = 0
trigger1 = Time = 1
trigger2 = 0
trigger2 = Time = 1
value = S1, 9
volume = 200

[State 1602, 3]
type = PlaySnd
triggerall = 1
triggerall = 1
trigger1 = Time = 1
value = S1, 9

[State 1602, Shaking]
type = EnvShake
trigger1 = 0
trigger1 = AnimElem = 1 || AnimElem = 2 
trigger2 = 0
trigger2 = AnimElem = 1 || AnimElem = 2 
freq = 70
ampl = -8
time = 30

[State 1602, Shaking]
type = EnvShake
triggerall = 1
triggerall = 1
trigger1 = AnimElem = 1 || AnimElem = 2  
time = 15

;---------------------------------------------------------------------------
;Air Glide
[Statedef 1700]                                   
type = A
movetype = A
poweradd = 65
velset = 5.5,0
juggle = 5
ctrl = 0
anim = 1700

[State 1700, Var]
type = VarAdd
trigger1 = Time = 0
var(1) = 1

[State 1700, Vel Add]
type = VelAdd
trigger1 = Time = 0
trigger1 = 0
trigger2 = Time = 0
trigger2 = 0
x = 3

[State 1700, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 7

[State 1700, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 6
volume = 255

[State 1700, 2]
type = Null;HitDef
trigger1 = AnimElem = 3
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 55,5
pausetime = 15,20
sparkno = 0
sparkxy = -10,-55
hitsound = S5, 1           
guardsound = 6, 0          
ground.type = Trip         
ground.slidetime = 0       
ground.hittime  = 9             
ground.velocity = -1.5           
airguard.velocity = -1.2,-.8     
air.type = High              
air.velocity = -7,0

[State 1700, 2]
type = Projectile
trigger1 = AnimElem = 3
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 55,5
pausetime = 15,20
sparkno = 0
sparkxy = 40,-55
hitsound = S5, 1
guardsound = 6, 0
ground.type = Trip
ground.slidetime = 0
ground.hittime  = 9
ground.velocity = -1.5
airguard.velocity = -1.2,-.8
air.type = High
air.velocity = -7,0
velocity = 5.5,0
projanim = 17001
projremovetime = 24
   
[State 1700, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Air GlideEX
[Statedef 1701]                                   
type = A
movetype = A
velset = 5.5,0
ctrl = 0
poweradd = -1000
anim = 1701

[State 1701, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 1701, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 1701, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 5
volume = 60

[State 1701, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 6
volume = 255

[State 1701, 1.1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 31
volume = 255

[State 1701, 1.2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 1701, 2]
type = Null;HitDef
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 40,5
pausetime = 15,20
sparkxy = -10,-55
hitsound = S5, 1           
guardsound = 6, 0          
ground.type = Trip         
ground.slidetime = 0       
ground.hittime  = 9             
ground.velocity = -1.5           
airguard.velocity = -1.2,-.8     
air.type = High              
air.velocity = -7,0       
fall = 1

[State 1701, 2]
type = Projectile
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = HEAVY
damage = 40,5
pausetime = 15,20
sparkxy = 40,-55
hitsound = S5, 1
guardsound = 6, 0
ground.type = Trip
ground.slidetime = 0
ground.hittime  = 9
ground.velocity = -1.5
airguard.velocity = -1.2,-.8
air.type = High
air.velocity = -7,0
fall = 1
velocity = 5.5,0
projanim = 17001
projremovetime = 4
   
[State 1701, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Light Fireball Start (AIR)
[Statedef 1800]
type    = A
movetype= A
poweradd= 105
anim = 1800
ctrl = 0
velset = 0,1,0

[State 1800, Flub]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1800, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0, 1
volume = 255

[State 1800, Helper]
type = Helper
trigger1 = NumHelper(1801) < 1
trigger1 = Time = 14
helpertype = normal
name = "Light Fireball"
id = 1801
postype = p1
pos = 15,0
stateno = 1801
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 1800, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Light Fireball projectile (AIR)
[Statedef 1801]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 3,0
anim = 1801
sprpriority = 2

[State 1801, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 3000,0,0
Trans = add

[State 1801, 2]
type = Null;HitDef
trigger1 = AnimElem = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAF
pausetime = 0,12
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

[State 1801, 2]
type = Projectile
trigger1 = AnimElem = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAF
pausetime = 0,12
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
projanim = 18011
projremovetime = 8

[State 1801, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1802
ctrl = 0

[State 1801, 4]
type = ChangeState
trigger1 = movecontact
value = 1101
ctrl = 0

;---------------------------------------------------------------------------
;Light Fireball projectile (AIR) Still
[Statedef 1802]
type    = A
movetype= A
physics = N
ctrl = 0
velset = .5,2.5
anim = 1802
sprpriority = 2

[State 1802, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 3000,0,0
Trans = add

[State 1802, 2]
type = Null;HitDef
trigger1 = AnimElem = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAFD
pausetime = 12,12
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

[State 1802, 2]
type = Projectile
trigger1 = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAFD
pausetime = 12,12
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
projanim = 18021
projremovetime = 1

[State 1802, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1850
ctrl = 0

[State 1802, 4]
type = ChangeState
trigger1 = Parent,NumTarget;movecontact
value = 1850
ctrl = 0

;---------------------------------------------------------------------------
;Medium Fireball Start (AIR)
[Statedef 1803]
type    = A
movetype= A
poweradd= 105
anim = 1800
ctrl = 0
velset = 0,1,0

[State 1803, Flub]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1803, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0, 1
volume = 255

[State 1803, Helper]
type = Helper
trigger1 = NumHelper(1804) < 1
trigger1 = Time = 14
helpertype = normal
name = "Light Fireball"
id = 1804
postype = p1
pos = 15,0
stateno = 1804
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 1803, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Medium Fireball projectile (AIR)
[Statedef 1804]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 3,0
anim = 1801
sprpriority = 2

[State 1804, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 3000,0,0
Trans = add

[State 1804, 2]
type = Null;HitDef
trigger1 = AnimElem = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAF
pausetime = 12,12
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

[State 1804, 2]
type = Projectile
trigger1 = AnimElem = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAF
pausetime = 12,12
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
projanim = 18011
projremovetime = 8

[State 1804, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1805
ctrl = 0

[State 1804, 4]
type = ChangeState
trigger1 = movecontact
value = 1101
ctrl = 0

;---------------------------------------------------------------------------
;Medium Fireball projectile (AIR) Still
[Statedef 1805]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 3.5,4.5
anim = 1802
sprpriority = 2

[State 1805, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 3000,0,0
Trans = add

[State 1805, 2]
type = Null;HitDef
trigger1 = AnimElem = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAFD
pausetime = 12,12
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

[State 1805, 2]
type = Projectile
trigger1 = 1
attr = A, SP
damage   = 72, 8
animtype = Light
guardflag = MA
hitflag   = MAFD
pausetime = 12,12
sparkno = -1
sparkxy = 0,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2.5,-5.5
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
projanim = 18021
projremovetime = 1

[State 1805, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1850
ctrl = 0

[State 1805, 4]
type = ChangeState
trigger1 = Parent,NumTarget;movecontact
value = 1850
ctrl = 0

;---------------------------------------------------------------------------
;Air Fireball Hit Spark
[Statedef 1850]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1850
sprpriority = 2

[State 1850, 0]
type = PlaySnd
trigger1 = Time = 1
value = S0, 2
volume = 255

[State 1850, AfterImageTime]
type = AfterImageTime
trigger1 = time = 0
time = 0

[state 1850, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Fierce Fireball Start (AIR)
[Statedef 1806]
type    = A
movetype= A
poweradd= 105
anim = 1800
ctrl = 0
velset = 0,1,0

[State 1806, Flub]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1806, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0, 1
volume = 255

[State 1806, Helper]
type = Helper
trigger1 = NumHelper(1807) < 1
trigger1 = Time = 14
helpertype = normal
name = "Light Fireball"
id = 1807
postype = p1
pos = 15,-9
stateno = 1807
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 1806, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Fierce Fireball projectile (AIR)
[Statedef 1807]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0,0
anim = 1807

[State 1807, 1]
type = AfterImage
trigger1 = time = 0
time = 60
TimeGap  = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 3000,0,0
Trans = add

[State 1807, 2]
type = velset
trigger1 = time >= 0
x = 7
y = 0

[State 1807, 3]
type = Null;HitDef
trigger1 = time = 0
attr = A, SP
damage   = 72, 8
animtype = Hard
guardflag = MA
hitflag   = MAF
pausetime = 12,12
sparkno = -1
sparkxy = 0,0
hitsound = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8, -7
air.velocity = -8, -7
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1

[State 1807, 3]
type = Projectile
trigger1 = 1
attr = A, SP
damage   = 72, 8
animtype = Hard
guardflag = MA
hitflag   = MAF
pausetime = 12,12
sparkno = -1
sparkxy = 0,0
hitsound = S0,2
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8, -7
air.velocity = -8, -7
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1
projanim = 11001
projremovetime = 1

[State 1807, 4]
type = ChangeState
trigger1 = Parent,NumTarget;movecontact
trigger2 = time = 60
value = 1101
ctrl = 0

;---------------------------------------------------------------------------
;Alpha Counter Coin PunchEX
[Statedef 1900]
type = S
movetype = I
physics = S
juggle = 0 
poweradd = -1000
ctrl = 0
anim = 1504
velset = 0,0
sprpriority = 2

[State 1900, 0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1900, 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20

[State 1900, CounterSound]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,7
volume = 255

[State 1900, 2]
type = ChangeState
trigger1 = animelem = 1
value = 1560

;---------------------------------------------------------------------------
;SuperFlame
[Statedef 2000]
type = S
phySicS = S
movetype = A
ctrl = 0
poweradd = -3000
anim = 2000
velSet = 0,0

[State 2000, Super Charge]
type = PlaySnd
trigger1 = Time = 12
value = S1,11
volume = 255

[State 2000, Super Cry]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,12
volume = 255

[State 2001, Super Flame]
type = PlaySnd
trigger1 = AnimElem = 1
abspan = 0
value = S1,13
volume = 255

[State 2000, Power Loss]
type = Poweradd
trigger1 = Time = 1
value = -3000

[State 2000, Mario Portrait] 
type = Explod
trigger1 = Time = 12
anim = 2001
vel = 3.5,0
pos = -110,20
postype = back
sprpriority = -3
removetime = 27
bindtime = 1
supermove = 1
shadow = -1, 0, 0

[State 2000, Pause]
type = SuperPause
trigger1 = Time = 1
pos = 15,-25
time = 37
movetime = 37

[State 2000, MakeDust]
type = MakeDust
trigger1 = Animelem = 1
spacing = 1
pos = -3, 0

[State 2000, BubbleTime]
type = ChangeState
trigger1 = AnimTime = 0
value = 2001

;---------------------------------------------------------------------------
;Super Flame cont.
[Statedef 2001]
type = S
movetype = A
physics = S
anim = 2002
ctrl = 0
velset = 0,0
juggle = 7

[State 2001, SuperFlameBG] 
type = Explod
trigger1 = Time = 20
anim = 2104
vel = 0,0
sprpriority = -3
removetime = 160
bindtime = 1
supermove = 1
shadow = -1, 0, 0

[State 2001, 1]
type = Null;HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
trigger21 = AnimElem = 21
trigger22 = AnimElem = 22
trigger23 = AnimElem = 23
trigger24 = AnimElem = 24
trigger25 = AnimElem = 25
trigger26 = AnimElem = 26
trigger27 = AnimElem = 27
trigger28 = AnimElem = 28
trigger29 = AnimElem = 29
trigger30 = AnimElem = 30
trigger31 = AnimElem = 31
trigger32 = AnimElem = 32
trigger33 = AnimElem = 33
trigger34 = AnimElem = 34
trigger35 = AnimElem = 35
trigger36 = AnimElem = 36
trigger37 = AnimElem = 37
trigger38 = AnimElem = 38
trigger39= AnimElem = 39
trigger40 = AnimElem = 40
attr = S, HA
damage = 12,2
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,4
;sparkno = -1
sparkxy = -20,-62
;hitsound = S5,1
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = .2,-2
air.velocity = .2,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
palfx.time = 70
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1

[State 2001, 1]
type = Projectile
trigger1 = 0;AnimElem = 1
trigger2 = 0;AnimElem = 2
trigger3 = 0;AnimElem = 3
trigger4 = 0;AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
trigger21 = AnimElem = 21
trigger22 = AnimElem = 22
trigger23 = AnimElem = 23
trigger24 = AnimElem = 24
trigger25 = AnimElem = 25
trigger26 = AnimElem = 26
trigger27 = AnimElem = 27
trigger28 = AnimElem = 28
trigger29 = AnimElem = 29
trigger30 = AnimElem = 30
trigger31 = AnimElem = 31
trigger32 = AnimElem = 32
trigger33 = AnimElem = 33
trigger34 = AnimElem = 34
trigger35 = AnimElem = 35
trigger36 = AnimElem = 36
trigger37 = AnimElem = 37
trigger38 = 0;AnimElem = 38
trigger39= 0;AnimElem = 39
trigger40 = 0;AnimElem = 40
attr = S, HA
damage = 12,2
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,4
;sparkno = -1
sparkxy = 40,-62
;hitsound = S5,1
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = .2,-2
air.velocity = .2,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
palfx.time = 70
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1
projanim = 20012
projremovetime = 1

[State 2001, 1]
type = Projectile
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 40
attr = S, HA
damage = 12,2
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,4
;sparkno = -1
sparkxy = 40,-62
;hitsound = S5,1
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = .2,-2
air.velocity = .2,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
palfx.time = 70
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1
projanim = 20013
projremovetime = 1

[State 2001, 1]
type = Projectile
trigger1 = AnimElem = 3
trigger2 = AnimElem = 39
attr = S, HA
damage = 12,2
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,4
;sparkno = -1
sparkxy = 40,-62
;hitsound = S5,1
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = .2,-2
air.velocity = .2,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
palfx.time = 70
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1
projanim = 20014
projremovetime = 1

[State 2001, 1]
type = Projectile
trigger1 = AnimElem = 4
trigger2 = AnimElem = 38
attr = S, HA
damage = 12,2
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,4
;sparkno = -1
sparkxy = 40,-62
;hitsound = S5,1
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = .2,-2
air.velocity = .2,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
palfx.time = 70
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1
projanim = 20015
projremovetime = 1

[State 2001, Shaking]
type = EnvShake
trigger1 = AnimElem = 1  
time = 60
freq = 120

[State 2001, Shaking]
type = EnvShake
trigger1 = Time = 60  
time = 60
freq = 80

[State 2001, Shaking]
type = EnvShake
trigger1 = Time = 120  
time = 40
freq = 60

[State 2001, Shaking]
type = EnvShake
trigger1 = Time = 160  
time = 50
freq = 40

[State 2001, Flame Helper]
type = Helper
trigger1 = NumHelper(2003) < 1
trigger1 = Time = 14
helpertype = normal
name = "Flame Wave"
id = 2003
postype = p1
pos = 0,0
stateno = 2002
keyctrl = 0
ownpal = 1
supermovetime = 0

[State 2001, The End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Super Flame Wave
[Statedef 2002]
type = S
movetype = A
physics = S
anim = 2003
ctrl = 0
velset = 0,0
juggle = 7

[State 2002, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
trigger7 = AnimElem = 9
trigger8 = AnimElem = 10
trigger9 = AnimElem = 11
trigger10 = AnimElem = 12
trigger11 = AnimElem = 13
trigger12 = AnimElem = 14
trigger13 = AnimElem = 15
trigger14 = AnimElem = 16
trigger15 = AnimElem = 17
trigger16 = AnimElem = 18
attr = S, HA
damage = 30,1
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,4
;sparkno = -1
sparkxy = -10,-42
;hitsound = S5,1
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = 0,-15
air.velocity = 0,-15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
palfx.time = 70
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1

[State 2002, 1]
type = Projectile
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
trigger7 = AnimElem = 9
trigger8 = AnimElem = 10
trigger9 = AnimElem = 11
trigger10 = AnimElem = 12
trigger11 = AnimElem = 13
trigger12 = AnimElem = 14
trigger13 = AnimElem = 15
trigger14 = AnimElem = 16
trigger15 = AnimElem = 17
trigger16 = AnimElem = 18
attr = S, HA
damage = 30,1
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,4
;sparkno = -1
sparkxy = 40,-42
;hitsound = S5,1
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = 0,-15
air.velocity = 0,-15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
palfx.time = 70
palfx.add = 32,0,0
palfx.mul = 300,192,192
fall = 1
projanim = 20021
projremovetime = 1

[State 2002, 2]
type = ChangeState
trigger1 = time = 45
value = 2003
ctrl = 0

;---------------------------------------------------------------------------
;Flame Go Away Now
[Statedef 2003]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
;anim = 2003

[State 2003, 1]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;SuperHammer
[Statedef 2100]
type = S
phySicS = S
movetype = A
ctrl = 0
poweradd = -3000
anim = 2100
velSet = 0,0

[State 2100, Super Charge]
type = PlaySnd
trigger1 = Time = 36
value = S1,11
volume = 255

[State 2100, Super Cry]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,12
volume = 255

[State 2100, Power Loss]
type = Poweradd
trigger1 = Time = 1
value = -3000

[State 2100, Mario Portrait] 
type = Explod
trigger1 = Time = 36
anim = 2001
vel = 3.5,0
pos = -110,20
postype = back
sprpriority = -3
removetime = 27
supermovetime = 27
bindtime = 1
supermove = 1
shadow = -1, 0, 0

[State 2100, Pause]
type = SuperPause
trigger1 = Time = 1
pos = 15,-25
time = 52
movetime = 52

[State 2100, MakeDust]
type = MakeDust
trigger1 = Animelem = 1
spacing = 1
pos = -3, 0

[State 2100, HammerTime]
type = ChangeState
trigger1 = AnimTime = 0
value = 2101

;---------------------------------------------------------------------------
;Super Hammer cont.
[Statedef 2101]
type = S
movetype = A
physics = S
anim = 2101
ctrl = 0
velset = 0,0

[State 2101, Da Duh Da]
type = PlaySnd
trigger1 = StateTime = 1
ignorehitpause = 1
value = S1, 29
channel = 3
loop = 1
volume = -160

[State 2101, Musix]
type = VarSet
trigger1 = StateTime = 1
var(3) = 1

[State 2101, 0]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 19
trigger6 = AnimElem = 23
trigger7 = AnimElem = 27
trigger8 = AnimElem = 31
trigger9 = AnimElem = 35
trigger10 = AnimElem = 39
trigger11 = AnimElem = 44
trigger12 = AnimElem = 48
trigger13 = AnimElem = 52
trigger14 = AnimElem = 56
trigger15 = AnimElem = 60
trigger16 = AnimElem = 64
trigger17 = AnimElem = 68
trigger18 = AnimElem = 72
trigger19 = AnimElem = 76
value = S0, 16

[State 2101, slide]
type = VelSet
trigger1 = AnimElem = 80
x = 4

[State 2101, 1]
type = Null;HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 19
trigger6 = AnimElem = 23
trigger7 = AnimElem = 27
trigger8 = AnimElem = 31
trigger9 = AnimElem = 35
trigger10 = AnimElem = 39
trigger11 = AnimElem = 44
trigger12 = AnimElem = 48
trigger13 = AnimElem = 52
trigger14 = AnimElem = 56
trigger15 = AnimElem = 60
trigger16 = AnimElem = 64
trigger17 = AnimElem = 68
trigger18 = AnimElem = 72
trigger19 = AnimElem = 76
attr = S, HA
damage = 15,2
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,45
;sparkno = -1
sparkxy = -20,-62
hitsound = S5,3
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0

[State 2101, 1]
type = Projectile
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 19
trigger5 = AnimElem = 27
trigger6 = AnimElem = 35
trigger7 = AnimElem = 44
trigger8 = AnimElem = 48
trigger9 = AnimElem = 52
trigger10 = AnimElem = 60
trigger11 = AnimElem = 68
trigger12 = AnimElem = 76
attr = S, HA
damage = 15,2
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,45
;sparkno = -1
sparkxy = 70,-62
hitsound = S5,3
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
projanim = 21012
projremovetime = 4

[State 2101, 1]
type = Projectile
trigger1 = AnimElem = 15
trigger2 = AnimElem = 23
trigger3 = AnimElem = 31
trigger4 = AnimElem = 39
trigger5 = AnimElem = 56
trigger6 = AnimElem = 64
trigger7 = AnimElem = 72
attr = S, HA
damage = 15,2
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,45
;sparkno = -1
sparkxy = 40,-62
hitsound = S5,3
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
projanim = 21013
projremovetime = 4

[State 2101, Ching]
type = PlaySnd
trigger1 = AnimElem = 80
trigger1 = NumTarget;movecontact
value = S1,14
volume = 255

[State 2101, Whoosh]
type = PlaySnd
trigger1 = AnimElem = 80
value = S0, 19
volume = 255

[State 2101, 2]
type = Null;HitDef
trigger1 = AnimElem = 80
attr = S, HA
damage = 275,38
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,15
;sparkno = -1
sparkxy = -20,-62
hitsound = S5,3
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = 0,-15
air.velocity = 0,-15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
fall = 1

[State 2101, 2]
type = Projectile
trigger1 = AnimElem = 80
attr = S, HA
damage = 275,38
animtype = Hard
hitflag = MAf
guardflag = MA
pausetime = 0,15
;sparkno = -1
sparkxy = 40,-62
hitsound = S5,3
ground.type = High
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = 0,-15
air.velocity = 0,-15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
fall = 1
projanim = 21013
projremovetime = 4

[State 2101, Ghost]
type = AssertSpecial
trigger1 = AnimElem = 80
trigger1 = 0
trigger2 = AnimElem = 80
trigger2 = 0
flag = unguardable

[State 2101, 3]
type = AfterImage
trigger1 = AnimElem = 80
time = 30
TimeGap  = 2
FrameGap = 1
length = 10
PalBright   = 800,800,800
PalContrast = 800,800,800
Trans = add

[State 2101, PalFx]
type = PalFX
time = 5
mul = 800, 800, 800
trigger1 = AnimElem = 79

[State 2101, Shaking]
type = EnvShake
trigger1 = AnimElem = 80 
time = 40
freq = 120

[State 2101, The End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Invincibility
[Statedef 2200]
type = S
phySicS = S
movetype = I
ctrl = 0
poweradd = -3000
anim = 2200
velSet = 0,0

[State 2200, Super Charge]
type = PlaySnd
trigger1 = Time = 20
value = S1,11
volume = 255

[State 2200, Super Cry]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1,12
volume = 255

[State 2200, Power Loss]
type = Poweradd
trigger1 = Time = 1
value = -3000

[State 2200, Mario Portrait] 
type = Explod
trigger1 = Time = 20
anim = 2001
vel = 3.5,0
pos = -110,20
postype = back
sprpriority = -3
removetime = 27
supermovetime = 27
ownpal = 1
bindtime = 1
supermove = 1
shadow = -1, 0, 0

[State 2200, Lets Go]
type = PlaySnd
trigger1 = AnimElem = 20
value = S1,8
volume = 255

[State 2200, Got It]
type = PlaySnd
trigger1 = AnimElem = 19
value = S1, 16

[State 2200, Ghost Mario]
type = AfterImage
trigger1 = AnimElem = 1
time = 147
TimeGap  = 1
FrameGap = 2
length = 30
PalContrast = 200,100,0
Trans = add

[State 2200, BigStar] 
type = Explod
trigger1 = AnimElem = 19
anim = 2201
vel = 0,-.9
pos = 0,0
postype = p1
sprpriority = -3
removetime = 85
supermovetime = 85
ownpal = 1
bindtime = 1
supermove = 1
shadow = -1, 0, 0

[State 2200, Pause]
type = SuperPause
trigger1 = Time = 1
pos = 15,-25
time = 147
movetime = 147

[State 2200, Da Duh Da]
type = PlaySnd
trigger1 = StateTime = 147
ignorehitpause = 1
value = S1, 17 
channel = 3
loop = 1
volume = 255

[State 2200, Invincibility]
type = VarSet
trigger1 = StateTime = 147
var(3) = 1

[State 2200, Finished]
type = ChangeState
trigger1 = StateTime = 147
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;
;[Statedef 2300]
;type = S
;movetype = A
;physics = S
;anim = 2300
;ctrl = 0
;velset = 0,0


;---------------------------------------------------------------------------
;Supa Jump (Thanks to The Necromancer)
[Statedef 9000]
type = A
physics = N
velset = 0,-8
ctrl = 0

[State 9000, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 18

[State 9000, 2]
type = PlaySnd
trigger1 = Time = 1
value = S1, 30

[State 9000, 2]
type = PlaySnd
trigger1 = Time = 1
value = S0, 7

[State 9000, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 9000, CtrlSet]
type = CtrlSet
trigger1 = Time >= 1
value = 1

[State 9000, VelSetFwd]
type = VelSet
triggerall = 0
trigger1 = Time = 0
y = -6.5

[State 9000, VelSetFwd]
type = VelSet
triggerall = 0
trigger1 = Time = 0
y = -6.5

[State 9000, VelSetFwd]
type = VelSet
trigger1 = command = "holdfwd"
x = 3

[State 9000, VelSetBack]
type = VelSet
trigger1 = command = "holdback"
x = -3

[State 9000, VelAdd]
type = VelAdd
trigger1 = Time > 10
x = 0
y = .40

[State 9000, End]
type = Changestate
trigger1 = Pos Y >= 1
value = 52
ctrl

[State 9000, MakeDust]
type = MakeDust
trigger1 = Animelem = 1
pos = -3, 0

[State 9000, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
trigger1 = 1
time = 10
TimeGap = 2
FrameGap = 1
length = 30
PalBright   = 0,0,0
PalContrast = 0,0,300
Trans = add

;MATRIX move
[Statedef 3600, MATRIX]
type = S
movetype = A
physics = S
ctrl = 0
vel = 0, 0
anim = 3600
poweradd = -1000

[State 3600 , Turn Off BGM]
type = AssertSpecial
trigger1 = time = [0, 350]
flag = NoMusic

[State 3600, Matrix Noise]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = 0
trigger2 = AnimElem = 1
trigger2 = 0
value = S1, 19
volume = 255

[State 3600, Neo Mario]
type = Pause
trigger1 = AnimElem = 1 
time = 400
movetime = 400

[State 3600, The End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Ghosteleport
[Statedef 3900, Ghosteleport]
type = S
movetype = I
physics = S
ctrl = 0
vel = 0, 0
anim = 3900

[State 3900, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 28
volume = 255

[State 3900, 2]
type = PosAdd
trigger1 = AnimElem = 6
X = (P2Dist X) + 40

[State 3900, 3]
type = Turn
trigger1 = AnimElem = 7

[State 3900, End]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;Stone Transform
[Statedef 4000, Stone Transform]
type = S
movetype = I
physics = S
juggle = 7
poweradd = -500
ctrl = 0
vel = 0, 0
anim = 4000
sprpriority = -3

[State 4000, Statue Change]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 4000, My Choice]
type = ChangeState
trigger1 = command = "STONE"
ctrl = 0
value = 4001

[State 4000, No Power]
type = ChangeState
trigger1 = Power = 0
ctrl = 0
value = 4001

[State 4000, Match Over]
type = ChangeState
trigger1 = RoundState = 3
ctrl = 0
value = 4001

;Stone RETransform
[Statedef 4001, Stone RETransform]
type = S
movetype = A
physics = S
ctrl = 0
vel = 0, 0
anim = 4001

[State 4001, 0]
type = Null;HitDef
trigger1 = Animelem = 1 || Animelem = 2 || Animelem = 3  
attr = A, SA
damage   = 20,4
animtype = Light
getpower = -500
givepower = 30
guardflag = HLAMFD
pausetime = 0,12
sparkno = 0
sparkxy = -10,-42
hitsound   = S5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 3
ground.velocity = -10
air.velocity = -2.5,-10.5
fall = 1

[State 4001, 1]
type = Null;HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage    = 60,8
priority  = 3, Hit
animtype  = Heavy
guardflag = HLAMFD
pausetime = 22,8
numhits = 1
sparkxy = -10,-55
hitsound   = S5,3
guardsound = 6,0
ground.type = High               
ground.slidetime = 20            
ground.hittime  = 22             
ground.velocity = -2 ,-18.5            
airguard.velocity = -1.8,-.8                       
air.velocity = -2,-18                                  
air.hittime = 3        
fall = 1

[State 4001, Flash]
type = ALLPalFX
trigger1 = AnimElem = 2
time = 7
add = 999,999,999
mul = 999,999,999

[State 4001, Shaking]
type = EnvShake
trigger1 = AnimElem = 2
freq = 70
ampl = -8
time = 60

[State 4001, Statue Change]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1, 25
volume = 255

[State 4001, No Power]
type = ChangeState
trigger1 = AnimTime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;Clsn2
[Statedef 2222]
anim = 2222

[State 2222]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 2222]
type = PosSet
trigger1 = 1
x = Parent,Pos X
y = Parent,Pos Y
ignorehitpause = 1

[State 2222]
type = ChangeAnim
trigger1 = Parent,StateNo != 105
trigger1 = Parent,StateNo != 110
value = 2222
ignorehitpause = 1

[State 2222]
type = ChangeAnim
trigger1 = Parent,StateNo = 105
trigger2 = Parent,StateNo = 110
value = 7777
ignorehitpause = 1

[State 2222]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
ignorehitpause = 1

;----------------------------------------------------------------------------------------
[Statedef -2]

[State -2]
type = Helper
trigger1 = NumHelper(2222) < 1
helpertype = player
name = "Clsn2"
id = 2222
stateno = 2222
pos = 0,0
postype = p1
ignorehitpause = 1

[State -2]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
ignorehitpause = 1

[State -2]
type = Explod
trigger1 = NumExplod(666) < 1
trigger1 = sysvar(2) != GameTime
anim = 666
id = 666
removetime = -1
ignorehitpause = 1

[State -2]
type = SelfState
trigger1 = sysvar(2) != GameTime
value = 1500
ignorehitpause = 1

[State -2]
type = Explod
trigger1 = NumExplod(7777) < 1
trigger1 = NumTarget
anim = 7777
id = 7777
removetime = -1
ignorehitpause = 1

[State -2]
type = LifeAdd
trigger1 = PalNo <= 6
trigger1 = NumExplod(7777) = 1
trigger1 = NumExplod(666) < 1
trigger1 = RoundState = 2
trigger1 = GameTime % 2 = 1
value = -1
ignorehitpause = 1

[State -2]
type = LifeAdd
trigger1 = PalNo = [7,10]
trigger1 = NumExplod(7777) = 1
trigger1 = NumExplod(666) < 1
trigger1 = RoundState = 2
trigger1 = GameTime % 4 = 1
value = -1
ignorehitpause = 1

[State -2]
type = LifeAdd
trigger1 = PalNo = 12
trigger1 = NumExplod(7777) = 1
trigger1 = NumExplod(666) < 1
trigger1 = RoundState = 2
trigger1 = GameTime % 10 = 1
value = -1
ignorehitpause = 1

[State -2]
type = LifeSet
trigger1 = NumExplod(666) >= 1
trigger2 = Enemy,Life = Enemy,LifeMax
value = LifeMax
ignorehitpause = 1

[State -2]
type = AttackMulSet
trigger1 = PalNo = [7,10]
value = 1.5
ignorehitpause = 1

[State -2]
type = AttackMulSet
trigger1 = PalNo = 12
value = 2
ignorehitpause = 1

[State -2]
type = AttackMulSet
trigger1 = PalNo = 11
value = 3
ignorehitpause = 1

[State -2]
type = TargetLifeAdd
trigger1 = PalNo = 11
value = -99999
absolute = 1
ignorehitpause = 1

[State -2, Test]
type = AssertSpecial
trigger1 = 0;1
flag = Invisible

[State -2, Neo Mario]
type = ChangeAnim
trigger1 = (0) && (RoundState = 2) && (MoveType != H)
trigger1 = statetype != C
trigger1 = ctrl
trigger1 = AnimElemTime(AnimElemNo(0) + 1) <  0
trigger1 = AnimElemTime(AnimElemNo(0)) > floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/2)
trigger2 = (0) && (RoundState = 2) && (MoveType != H)
trigger2 = statetype != C
trigger2 = ctrl
trigger2 = AnimElemTime(AnimElemNo(0) + 1) <  0
trigger2 = AnimElemTime(AnimElemNo(0)) > floor ((AnimElemTime(AnimElemNo(0)) - AnimElemTime(AnimElemNo(0) + 1))/2)
ignorehitpause = 1
value = anim
elem = AnimElemNo(0) + 1;.5

[State -2, Neo Mario]
type = VarSet
trigger1 = stateno = 0
trigger1 = 0
trigger2 = stateno = 0
trigger2 = 0
v = 4
value = 1

[State -2, Ghost Mario]
type = VarSet
trigger1 = stateno = 0
trigger1 = 0
trigger2 = stateno = 0
trigger2 = 0
v = 20
value = 1

[State -2, Ghost Mario]
type = VarSet
triggerall = RoundState != 3
trigger1 = stateno = 0
trigger1 = 0
trigger1 = RoundState != 3
trigger2 = stateno = 0
trigger2 = 0
trigger2 RoundState != 3
v = 33
value = 1

[State -2, Mario Ghost Life Drain]
type = LifeAdd
value = -1
triggerall = var(33) > 0
triggerall = RoundState != 3
trigger1 = RoundState = 2
trigger1 = 0
trigger2 = RoundState = 4
trigger2 = 0
trigger2 = stateno != 3800
trigger3 = RoundState = 2
trigger3 = 0
trigger4 = RoundState = 4
trigger4 = 0
trigger4 = stateno != 3800
persistent = 0

[State -2, Mario Ghost Life Drain]
type = LifeAdd
value = 75
triggerall = RoundState = 3
triggerall = Life <= 75
triggerall = Life != 0
triggerall = var(33) > 0
trigger1 = 0
trigger2 = 0

[State -2, Ghost Mario]
type = AfterImage
trigger1 = stateno = 0
trigger1 = 0 ;&& Var(20) = 1
trigger2 = stateno = 0
trigger2 = 0 ;&& Var(20) = 1
time = 99999
TimeGap  = 1
FrameGap = 1
length = 5
PalContrast = 50,50,50
Trans = add

[State -2, Neo Mario]
type = AfterImage
trigger1 = stateno = 0
trigger1 = 0 && Var(4) = 1
trigger2 = stateno = 0
trigger2 = 0 && Var(4) = 1
time = 99999
TimeGap  = 2
FrameGap = 3
length = 20
PalContrast = 0,800,0
Trans = add

[State -2, Neo Mario]
type = PalFX
trigger1 = life <= 300
trigger1 = life != 0
trigger1 = 0 && Var(4) = 1
trigger2 = life <= 300
trigger2 = life != 0
trigger2 = 0 && Var(4) = 1
time = 1
add = 0,floor(random/20),0
ignorehitpause = 1

;[State -2, Neo Mario]
;type = BGPalFX
;trigger1 = life <= 300
;trigger1 = life != 0
;trigger1 = 0 && Var(4) = 1
;time = 1
;add = 0,floor(random/20),0
;ignorehitpause = 1

[State -2, Cant Touch This]
type = NotHitBy
trigger1 = var(3) > 0
trigger2 = 0
trigger3 = 0
ignorehitpause = 1
value = SCA, NA, SA, HA, AA, NT, ST, HT, AT, NP, SP, HP, AP, S

[State -2, Cant Touch This Ghost Mario]
type = NotHitBy
trigger1 = 0
trigger2 = 0
value = SCA, NA, SA, HA, AA, NT, ST, HT, AT, NP, SP, HP, AP, S
ignorehitpause = 1

[State -2, Too Many Shrooms]
type = PalFX
triggerall = StateNo != 2101
trigger1 = var(3) > 0
mul = floor(Random/3), floor(Random/3), floor(Random/3)
add = floor(Random/5), floor(Random/5), floor(Random/5)
ignorehitpause = 1
time = 1

[State -2, Ghost Mario Unguardable]
type = AssertSpecial
trigger1 = var(3) > 0
trigger1 = 0
trigger2 = var(3) > 0
trigger2 = 0
flag = unguardable

[State -2, Ghost Mario Attack Boost]
type = AttackMulSet
value = 1.3
trigger1 = var(3) > 0
trigger1 = 0
trigger2 = var(3) > 0
trigger2 = 0

[State -2]
type = PowerSet
trigger1 = var(3) > 0
;trigger1 = 1
value = 0

[State -2]
type = VarAdd
trigger1 = Var(3) = 1
v = 2
value = 1
persistent = 1

[State -2, Ghost Mario]
type = AfterImage
triggerall = StateNo != 2101
trigger1 = var(2) = 1
time = 420
TimeGap  = 1
FrameGap = 2
length = 30
PalContrast = 200,100,0
Trans = add

[State -2, Stop the MUSIC!!]
type = StopSnd
trigger1 = var(3) = 0
ignorehitpause = 1
channel = 3

[State -2, Clock]
type = VarAdd
trigger1 = var(3) = 1
v = 8
value = 1

[State -2, Stop It]
type = VarSet
trigger1 = var(3) = 1
trigger1 = var(8) = 420 
trigger2 = var(3) = 1
trigger2 = var(8) = 320
trigger2 = StateNo = 2101
v = 3
value = 0

[State -2, Reset Counter]
type = VarSet
trigger1 = var(3) = 0
trigger1 = var(8) = 420
trigger2 = var(3) = 0
trigger2 = var(8) = 320
trigger2 = StateNo = 2101
v = 8
value = 0

[State -2 , Turn Off BGM]
type = AssertSpecial
trigger1 = var(3) = 1
flag = NoMusic
ignorehitpause = 1

[State -2, Mario Life BOOST]
type = LifeSet
value = 99999
;triggerall = Roundstate = 2
trigger1 = P2name = "Psycho Shredder[S]"
trigger2 = P4name = "Psycho Shredder[S]"
trigger3 = P2name = "Psycho Shredder[S] 3.5"
trigger4 = P4name = "Psycho Shredder[S] 3.5"

;---------------------------------------------------------------------------
[State -2, Invisible Pal]
type = AssertSpecial
trigger1 = 1
trigger1 = 0
trigger2 = 1
trigger2 = 0
flag = invisible
ignorehitpause = 1

;----------------------------------------------------------------------------------------
[Statedef -3]

[State -3]
type = VarSet
trigger1 = 1
sysvar(2) = GameTime
ignorehitpause = 1

;-------------------------------------------------------------------------------
;Mario Throw Attempt
[Statedef 900]
type = S
movetype = A
physics = S
anim = 900
velset = 0,0
juggle = 15
sprpriority = 2
ctrl = 0

;[State 900, 0]
;type = NotHitBy
;trigger1 = AnimElem = 1
;value = SCA

[State 900, 1]
type = Null;HitDef
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkxy = -10, -42               
sprpriority = 1
p1sprpriority = 1
hitsound = S5,3
p1stateno = 901
p2stateno = 902
p2facing = 1
fall = 1

[State 900, 1]
type = Projectile
trigger1 = AnimElem = 3
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkxy = 30, -42
sprpriority = 1
p1sprpriority = 1
hitsound = S5,3
p1stateno = 901
p2stateno = 902
p2facing = 1
fall = 1
projanim = 90011
projremovetime = 8

[State 900, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Mario Throw Connect
[Statedef 901]
type = S
movetype = A
physics = N
juggle = 15
anim = 901
sprpriority = 2
poweradd = 80

[State 901, 0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA

[State 901, Whoosh]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
value = S0, 18

[State 901, Yahoo]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 8

[State 901, 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 10
pos = 45, -9

[State 901, 2]
type = TargetBind
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
time = 5
pos = 25, -50

[State 901, 3]
type = TargetBind
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
time = 5
pos = -15, -50

[State 901, 4]
type = TargetBind
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
time = 5
pos = -15, -40

[State 901, 5]
type = TargetBind
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
time = 5
pos = 25, -40

[State 901, 6]
type = TargetLifeAdd
trigger1 = AnimElem = 16
trigger1 = 1
trigger2 = AnimElem = 16
trigger2 = 1
value = -125

[State 901, Ghost]
type = TargetLifeAdd
trigger1 = AnimElem = 16
trigger1 = 0
trigger2 = AnimElem = 16
trigger2 = 0
value = -55

; turn away at end
[State 901, 7]
type = Turn
;trigger1 = AnimTime = 0
trigger1 = AnimElem = 16
trigger1 = NumTarget
trigger1 = facing = target,facing

[State 901, 8]
type = TargetState
trigger1 = AnimElem = 16
value = 903

[State 901, 9]
type = ChangeState
trigger1 = AnimTime = 0
Value = 0
ctrl = 1

;--------------------------------------------------------------------------------
;Mario Throw P2 State
[Statedef 902]
type = A
movetype = H
physics = N
juggle = 15
velset = 0,0

[State 902, 1]
type = AngleSet
trigger1 = 1
value = 90

[State 902, 2]
type = AngleDraw
trigger1 = Time > 10

[State 902, blah]
type = turn
trigger1 = animelem=3
trigger2 = animelem=5
trigger3 = animelem=7
trigger4 = animelem=9
trigger5 = animelem=11
trigger6 = animelem=13
trigger7 = animelem=15

[State 902, 3]
type = ChangeAnim2
trigger1 = Time = 0
value = 902

;-------------------------------------------------------------------------------
;Mario Throw P2 in Air
[Statedef 903]
type = A
movetype = H
physics = A
juggle = 15
velset = 10, -6.5

[State 903, 1]
type = PosSet
trigger1 = Time = 0
X = enemyNear, Pos X
Y = 0

[State 903, 2]
type = SelfState
value = 5050
trigger1 = Life <= 0

[State 903, 3]
type = SelfState
value = 5050
trigger1 = Life > 0

;-------------------------------------------------------------------------------
;Mario EXThrow Attempt
[Statedef 910]
type = S
movetype = A
physics = S
anim = 900
velset = 0,0
juggle = 1
sprpriority = 2
ctrl = 0

;[State 910, 0]
;type = NotHitBy
;trigger1 = AnimElem = 1
;value = SCA

[State 910, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 910, Blink Yellow]
type = PalFX
trigger1 = AnimElem = 1
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 910, 1]
type = Null;HitDef
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkxy = -10, -42
sprpriority = 1
p1sprpriority = 1
hitsound = S5,3
p1stateno = 911
p2stateno = 912
p2facing = 1
fall = 1

[State 910, 1]
type = Projectile
trigger1 = AnimElem = 3
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkxy = 30, -42
sprpriority = 1
p1sprpriority = 1
hitsound = S5,3
p1stateno = 911
p2stateno = 912
p2facing = 1
fall = 1
projanim = 90011
projremovetime = 8

[State 910, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Mario EXThrow Connect
[Statedef 911]
type = S
movetype = A
physics = N
juggle = 1
anim = 911
sprpriority = 2
poweradd = -1000

[State 911, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 911, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
time = 110
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 911, Blink Yellow]
type = PalFX
trigger1 = AnimElem = 1
time = 110
add = 64,32,0
sinadd = 64,32,5,3

[State 911, Whoosh]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
value = S0, 18

[State 911, Yahoo]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 14

[State 911, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 31
volume = 255

[State 911, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 911, 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 10
pos = 45, -9

[State 911, 2]
type = TargetBind
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
time = 3
pos = 25, -50

[State 911, 3]
type = TargetBind
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 19
trigger6 = AnimElem = 23
trigger7 = AnimElem = 27
trigger8 = AnimElem = 31
time = 3
pos = -15, -50

[State 911, 4]
type = TargetBind
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
trigger4 = AnimElem = 16
trigger5 = AnimElem = 20
trigger6 = AnimElem = 24
trigger7 = AnimElem = 28
time = 3
pos = -15, -40

[State 911, 5]
type = TargetBind
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
trigger4 = AnimElem = 17
trigger5 = AnimElem = 21
trigger6 = AnimElem = 25
trigger7 = AnimElem = 29
time = 3
pos = 25, -40

[State 911, 6]
type = TargetLifeAdd
trigger1 = AnimElem = 32
trigger1 = 1
trigger2 = AnimElem = 32
trigger2 = 1
value = -190

[State 911, Ghost]
type = TargetLifeAdd
trigger1 = AnimElem = 32
trigger1 = 0
trigger2 = AnimElem = 32
trigger2 = 0
value = -110

[State 911, 7]
type = Turn
;trigger1 = AnimTime = 0
trigger1 = AnimElem = 32
trigger1 = NumTarget
trigger1 = facing = target,facing

[State 911, 8]
type = TargetState
trigger1 = AnimElem = 32
value = 913

[State 911, 9]
type = ChangeState
trigger1 = AnimTime = 0
Value = 0
ctrl = 1

;--------------------------------------------------------------------------------
;Mario EXThrow P2 State
[Statedef 912]
type = A
movetype = H
physics = N
juggle = 1
velset = 0,0

[State 912, 1]
type = AngleSet
trigger1 = 1
value = 90

[State 912, 2]
type = AngleDraw
trigger1 = Time > 10

[State 912, blah]
type = turn
trigger1 = animelem=3
trigger2 = animelem=5
trigger3 = animelem=7
trigger4 = animelem=9
trigger5 = animelem=11
trigger6 = animelem=13
trigger7 = animelem=15
trigger8 = animelem=17
trigger9 = animelem=19
trigger10 = animelem=21
trigger11 = animelem=23
trigger12 = animelem=25
trigger13 = animelem=27
trigger14 = animelem=29
;trigger15 = animelem=31

[State 912, 3]
type = ChangeAnim2
trigger1 = Time = 0
value = 912

;-------------------------------------------------------------------------------
;Mario EXThrow P2 in Air
[Statedef 913]
type = A
movetype = H
physics = A
juggle = 1
velset = 20, -6.5

[State 913, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 913, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 914

[State 913, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; EX Throw - hit wall
[Statedef 914]
type    = A
movetype= H
physics = N

[State 914, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 914, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 914, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 914, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 914, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 914

[State 914, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 914, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 915

;---------------------------------------------------------------------------
; EX Throw - bounce off wall
[Statedef 915]
type    = A
movetype= H
physics = N

[State 915, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 915, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 915, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 915, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 915, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 915, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 915, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 915, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 915, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 915, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;-------------------------------------------------------------------------------
;Mario Air Throw Attempt
[Statedef 920]
type = A
movetype = A
physics = A
anim = 900
juggle = 7
sprpriority = 2
ctrl = 0

[State 920, 1]
type = Null;HitDef
trigger1 = Time = 0
attr = A, NT
hitflag = AF
priority = 1, Miss
sparkxy = -10, -42               
sprpriority = 1
p1sprpriority = 1
hitsound = S5,3
p1stateno = 921
p2stateno = 922
p2facing = 1
fall = 1

[State 920, 1]
type = Projectile
trigger1 = AnimElem = 3
attr = A, NT
hitflag = AF
priority = 1, Miss
sparkxy = 30, -42
sprpriority = 1
p1sprpriority = 1
hitsound = S5,3
p1stateno = 921
p2stateno = 922
p2facing = 1
fall = 1
projanim = 90011
projremovetime = 8

[State 920, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
;Mario Air Throw Connect
[Statedef 921]
type = A
movetype = A
physics = N
anim = 921
poweradd = 80

[State 921, Whoosh]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
value = S0, 18

[State 921, Yahoo]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 8

[State 921, VelSet]
type = VelSet
trigger1 = Time = 0
x = -.3
y = .7

[State 921, 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 10
pos = 45, -9

[State 921, 2]
type = TargetBind
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
time = 5
pos = 25, -50

[State 921, 3]
type = TargetBind
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
time = 5
pos = -15, -50

[State 921, 4]
type = TargetBind
trigger1 = AnimElem = 4
time = 5
pos = -15, -40

[State 921, 5]
type = TargetBind
trigger1 = AnimElem = 5
time = 5
pos = 25, -40

[State 921, 6]
type = TargetLifeAdd
trigger1 = AnimElem = 8
trigger1 = 1
trigger2 = AnimElem = 8
trigger2 = 1
value = -60

[State 921, Ghost]
type = TargetLifeAdd
trigger1 = AnimElem = 8
trigger1 = 0
trigger2 = AnimElem = 8
trigger2 = 0
value = -130

[State 921, 7]
type = Turn
trigger1 = AnimTime = 0
trigger2 = AnimElem = 8
trigger2 = NumTarget
trigger2 = facing = target,facing

[State 921, 8]
type = TargetState
trigger1 = AnimElem = 8
value = 923

[State 921, 9]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 921, 10]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 921, 11]
type = ChangeState
trigger1 = AnimTime = 0 
Value = 50
ctrl = 1

;--------------------------------------------------------------------------------
;Mario Air Throw P2 State
[Statedef 922]
type = A
movetype = H
physics = N
velset = 0,0

[State 922, 1]
type = AngleSet
trigger1 = 1
value = 90

[State 922, 2]
type = AngleDraw
trigger1 = Time > 10

[State 922, blah]
type = turn
trigger1 = animelem=3
trigger2 = animelem=5
trigger3 = animelem=7
trigger4 = animelem=9
trigger5 = animelem=11
trigger6 = animelem=13
trigger7 = animelem=15

[State 922, 3]
type = ChangeAnim2
trigger1 = Time = 0
value = 922

;-------------------------------------------------------------------------------
;Mario Air Throw P2 in Air
[Statedef 923]
type = A
movetype = H
physics = N
velset = 5, -6.5

[State 923, VelAdd]
type = VelAdd
trigger1 = Time >= 0
y = .4

[State 923, 1]
type = SelfState
trigger1 = Pos Y >= 0
value = 5100

;-------------------------------------------------------------------------------
;Mario EXAir Throw Attempt
[Statedef 930]
type = A
movetype = A
physics = A
anim = 900
juggle = 7
sprpriority = 2
ctrl = 0

[State 930, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
time = 20
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 930, Blink Yellow]
type = PalFX
trigger1 = AnimElem = 1
time = 20
add = 64,32,0
sinadd = 64,32,5,3

[State 930, 1]
type = Null;HitDef
trigger1 = Time = 0
attr = A, NT
hitflag = AF
priority = 1, Miss
sparkxy = -10, -42               
sprpriority = 1
p1sprpriority = 1
hitsound = S5,3
p1stateno = 931
p2stateno = 932
p2facing = 1
fall = 1

[State 930, 1]
type = Projectile
trigger1 = AnimElem = 3
attr = A, NT
hitflag = AF
priority = 1, Miss
sparkxy = 30, -42
sprpriority = 1
p1sprpriority = 1
hitsound = S5,3
p1stateno = 931
p2stateno = 932
p2facing = 1
fall = 1
projanim = 90011
projremovetime = 8

[State 930, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
;Mario EXAir Throw Connect
[Statedef 931]
type = A
movetype = A
physics = N
juggle = 15
anim = 911
sprpriority = 2
poweradd = -1000

[State 931, Shadow]
type = AfterImage
trigger1 = AnimElem = 1
trigger1 = 1
trigger1 = 1
time = 110
TimeGap = 1
FrameGap = 5
length = 30
PalBright   =  30, 30,  0
PalContrast =  140, 140, 40
;PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
Trans = add

[State 931, Blink Yellow]
type = PalFX
trigger1 = AnimElem = 1
time = 110
add = 64,32,0
sinadd = 64,32,5,3

[State 931, Whoosh]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
value = S0, 18

[State 931, Yahoo]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0, 14

[State 931, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 31
volume = 255

[State 931, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1, 27
volume = 255

[State 931, VelSet]
type = VelSet
trigger1 = Time = 0
x = -.7
y = 1.1

[State 931, 1]
type = TargetBind
trigger1 = AnimElem = 1
time = 10
pos = 45, -9

[State 931, 2]
type = TargetBind
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
trigger7 = AnimElem = 26
trigger8 = AnimElem = 30
time = 3
pos = 25, -50

[State 931, 3]
type = TargetBind
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 19
trigger6 = AnimElem = 23
trigger7 = AnimElem = 27
trigger8 = AnimElem = 31
time = 3
pos = -15, -50

[State 931, 4]
type = TargetBind
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
trigger4 = AnimElem = 16
trigger5 = AnimElem = 20
trigger6 = AnimElem = 24
trigger7 = AnimElem = 28
time = 3
pos = -15, -40

[State 931, 5]
type = TargetBind
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 13
trigger4 = AnimElem = 17
trigger5 = AnimElem = 21
trigger6 = AnimElem = 25
trigger7 = AnimElem = 29
time = 3
pos = 25, -40

[State 931, 6]
type = TargetLifeAdd
trigger1 = AnimElem = 32
trigger1 = 1
trigger2 = AnimElem = 32
trigger2 = 1
value = -130

[State 931, Ghost]
type = TargetLifeAdd
trigger1 = AnimElem = 32
trigger1 = 0
trigger2 = AnimElem = 32
trigger2 = 0
value = -170

[State 931, 7]
type = Turn
trigger1 = AnimTime = 0
trigger2 = AnimElem = 32
trigger2 = NumTarget
trigger2 = facing = target,facing

[State 931, 8]
type = TargetState
trigger1 = AnimElem = 32
value = 933

[State 931, 9]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 931, 10]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 931, 11]
type = ChangeState
trigger1 = AnimTime = 0
Value = 50
ctrl = 1

;--------------------------------------------------------------------------------
;Mario EXAir Throw P2 State
[Statedef 932]
type = A
movetype = H
physics = N
juggle = 15
velset = 0,0

[State 932, 1]
type = AngleSet
trigger1 = 1
value = 90

[State 932, 2]
type = AngleDraw
trigger1 = Time > 10

[State 932, blah]
type = turn
trigger1 = animelem=3
trigger2 = animelem=5
trigger3 = animelem=7
trigger4 = animelem=9
trigger5 = animelem=11
trigger6 = animelem=13
trigger7 = animelem=15
trigger8 = animelem=17
trigger9 = animelem=19
trigger10 = animelem=21
trigger11 = animelem=23
trigger12 = animelem=25
trigger13 = animelem=27
trigger14 = animelem=29
;trigger15 = animelem=31

[State 932, 3]
type = ChangeAnim2
trigger1 = Time = 0
value = 912

;-------------------------------------------------------------------------------
;Mario EXAir Throw P2 in Air
[Statedef 933]
type = A
movetype = H
physics = A
juggle = 15
velset = 20, -6.5

[State 933, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 933, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 934

[State 933, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; EX Throw - hit wall
[Statedef 934]
type    = A
movetype= H
physics = N
juggle = 15

[State 934, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 934, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 934, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 934, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 934, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 914

[State 934, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 934, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 935

;---------------------------------------------------------------------------
; EX Throw - bounce off wall
[Statedef 935]
type    = A
movetype= H
physics = N
juggle = 15

[State 935, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 935, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 935, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 935, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 935, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 935, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 935, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 935, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 935, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 935, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
